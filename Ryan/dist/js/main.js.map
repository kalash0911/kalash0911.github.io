{"version":3,"sources":["main.js"],"names":["videoThresholdScreenSize","supportsHEVCAlpha","navigator","window","ua","userAgent","toLowerCase","hasMediaCapabilities","mediaCapabilities","decodingInfo","isSafari","indexOf","isiphone","test","platform","maxTouchPoints","playerKids","document","querySelectorAll","playerStep","playerStepMob","forEach","video","ind","src","initVideoPlayers","videoWraps","videoWrap","querySelector","playButton","addEventListener","e","innerWidth","paused","play","classList","toggle","pause","initVideoPlayersPopUp","muteButton","volume","currentTimeElement","durationTimeElement","progress","progressBar","muted","target","value","currentTime","currentMinutes","Math","floor","currentSeconds","durationMinutes","duration","durationSeconds","innerHTML","percentage","style","width","progressTime","offsetX","offsetWidth","stopMedia","remove","modal","modalPopup","titleModal","bgModal","videoModal","openModal","display","closeModal","setModalContent","title","img","bg","textContent","setAttribute","el","i","event","closest","preventDefault","cards","cTarget","currentTarget"],"mappings":"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","sourcesContent":["const videoThresholdScreenSize = 860;\n\nfunction supportsHEVCAlpha() {\n  const navigator = window.navigator;\n  const ua = navigator.userAgent.toLowerCase();\n  const hasMediaCapabilities = !!(\n    navigator.mediaCapabilities && navigator.mediaCapabilities.decodingInfo\n  );\n  const isSafari =\n    ua.indexOf(\"safari\") != -1 &&\n    !(ua.indexOf(\"chrome\") != -1) &&\n    ua.indexOf(\"version/\") != -1;\n  const isiphone =\n    /iPad|iPhone|iPod/.test(navigator.userAgent) ||\n    (navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1);\n  return (isSafari || isiphone) && hasMediaCapabilities;\n}\n\nconst playerKids = document.querySelectorAll(\".kids\");\nconst playerStep = document.querySelectorAll(\".img-step\");\nconst playerStepMob = document.querySelectorAll(\".img-step-mob\");\n\nplayerKids.forEach((video, ind) => {\n  video.src = supportsHEVCAlpha()\n    ? `./files/${ind + 1}.mov`\n    : `./files/${ind + 1}.webm`;\n});\n\nplayerStep.forEach((video, ind) => {\n  video.src = supportsHEVCAlpha()\n    ? `./files/step${ind + 1}.mp4`\n    : `./files/step${ind + 1}.webm`;\n});\n\nplayerStepMob.forEach((video, ind) => {\n  video.src = supportsHEVCAlpha()\n    ? `./files/step${ind + 1}-mob.mp4`\n    : `./files/step${ind + 1}-mob.webm`;\n});\n\n// Video controls\ninitVideoPlayers();\n\nfunction initVideoPlayers() {\n  const videoWraps = document.querySelectorAll(\".video-wrap\");\n  videoWraps?.forEach((videoWrap) => {\n    const video = videoWrap.querySelector(\".video\");\n    const playButton = videoWrap.querySelector(\".play-button\");\n\n    //Play and Pause button\n    playButton.addEventListener(\"click\", (e) => {\n      if (window.innerWidth <= videoThresholdScreenSize) {\n        if (video.paused) {\n          video.play();\n          videoWrap.classList.toggle(\"active\");\n        } else {\n          video.pause();\n          videoWrap.classList.toggle(\"active\");\n        }\n      }\n    });\n  });\n}\n\n// Video controls pop-up\ninitVideoPlayersPopUp();\n\nfunction initVideoPlayersPopUp() {\n  const videoWraps = document.querySelectorAll(\".video-wrap-pop-up\");\n  videoWraps?.forEach((videoWrap) => {\n    const video = videoWrap.querySelector(\".video\");\n    const playButton = videoWrap.querySelector(\".play-button\");\n    const muteButton = videoWrap.querySelector(\".mute-button\");\n    const volume = videoWrap.querySelector(\".volume\");\n    const currentTimeElement = videoWrap.querySelector(\".current\");\n    const durationTimeElement = videoWrap.querySelector(\".duration\");\n    const progress = videoWrap.querySelector(\".video-progress\");\n    const progressBar = videoWrap.querySelector(\".video-progress-filled\");\n\n    //Play and Pause button\n    playButton.addEventListener(\"click\", (e) => {\n      if (video.paused) {\n        video.play();\n        videoWrap.classList.toggle(\"active\");\n      } else {\n        video.pause();\n        videoWrap.classList.toggle(\"active\");\n      }\n    });\n\n    //Mute button\n    muteButton.addEventListener(\"click\", (e) => {\n      if (video.muted) {\n        video.muted = false;\n        muteButton.classList.toggle(\"mute\");\n      } else {\n        video.muted = true;\n        muteButton.classList.toggle(\"mute\");\n      }\n    });\n\n    //volume\n    volume.addEventListener(\"mousemove\", (e) => {\n      video.volume = e.target.value;\n    });\n\n    //current time and duration\n    const currentTime = () => {\n      let currentMinutes = Math.floor(video.currentTime / 60);\n      let currentSeconds = Math.floor(video.currentTime - currentMinutes * 60);\n      let durationMinutes = Math.floor(video.duration / 60);\n      let durationSeconds = Math.floor(video.duration - durationMinutes * 60);\n\n      currentTimeElement.innerHTML = `${currentMinutes}:${\n        currentSeconds < 10 ? \"0\" + currentSeconds : currentSeconds\n      }`;\n      durationTimeElement.innerHTML = `${durationMinutes}:${durationSeconds}`;\n    };\n\n    video.addEventListener(\"timeupdate\", currentTime);\n\n    //Progress bar\n    video.addEventListener(\"timeupdate\", () => {\n      const percentage = (video.currentTime / video.duration) * 100;\n      progressBar.style.width = `${percentage}%`;\n    });\n\n    //change progress bar on click\n    progress.addEventListener(\"click\", (e) => {\n      const progressTime = (e.offsetX / progress.offsetWidth) * video.duration;\n      video.currentTime = progressTime;\n    });\n\n    video.addEventListener(\"ended\", stopMedia);\n    function stopMedia() {\n      video.pause();\n      video.currentTime = 0;\n      videoWrap.classList.remove(\"active\");\n    }\n  });\n}\n\n/* Modal popUp img */\nmodal();\nfunction modal() {\n  const modalPopup = document.querySelector(\".modal-pop-up\");\n  const titleModal = modalPopup.querySelector(\".pop-up-title\");\n  const bgModal = modalPopup.querySelector(\".pop-up-bg\");\n  const videoModal = modalPopup.querySelector(\".video\");\n\n  const openModal = () => (modalPopup.style.display = \"flex\");\n  const closeModal = () => {\n    modalPopup.style.display = \"none\";\n    videoModal.pause();\n    videoModal.currentTime = 0;\n    document.querySelector(\".video-wrap-pop-up\").classList.remove(\"active\");\n  };\n  const setModalContent = ({ title, img, bg, video }) => {\n    titleModal.textContent = title.textContent;\n    bgModal.setAttribute(\"src\", bg.src);\n    videoModal\n      .querySelectorAll(\"source\")\n      .forEach((el, i) =>\n        el.setAttribute(\"src\", video.querySelectorAll(\"source\")[i].src)\n      );\n  };\n\n  document.addEventListener(\"click\", (event) => {\n    const { target } = event;\n    if (\n      target.closest(\".modal-btn-close\") ||\n      target.closest(\".modal-overflow\")\n    ) {\n      event.preventDefault();\n      closeModal();\n    }\n  });\n\n  const cards = document.querySelectorAll(\".open-video-modal\");\n  cards.forEach((el) =>\n    el.addEventListener(\"click\", (event) => {\n      if (window.innerWidth > videoThresholdScreenSize) {\n        const cTarget = event.currentTarget;\n        const title = cTarget.querySelector(\".item-title\");\n        const img = cTarget.querySelector(\".img\");\n        const bg = cTarget.querySelector(\".pop-up-bg\");\n        const video = cTarget.querySelector(\".video\");\n        setModalContent({ title, img, bg, video });\n        openModal();\n      }\n    })\n  );\n}"],"file":"main.js"}