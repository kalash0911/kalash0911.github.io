{"version":3,"sources":["main.js"],"names":["initStickyPhone","startSection","document","querySelector","phonesWrapper","phoneContent","phoneImgs","querySelectorAll","steps","stepsReact","reduce","prev","cur","ind","stepRect","getBoundingClientRect","sectionRect","forEach","img","style","zIndex","phoneWrapDesctination","height","length","gsap","fromTo","x","y","rotation","skewX","scrollTrigger","trigger","start","end","scrub","phoneContentHeight","onUpdate","self","filterValue","progress","toFixed","filter"],"mappings":"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","sourcesContent":["\r\ninitStickyPhone();\r\n\r\nfunction initStickyPhone() {\r\n  const startSection = document.querySelector(\".phone-section\");\r\n  const phonesWrapper = startSection.querySelector('.sticky-phones-wrapper');\r\n  const phoneContent = phonesWrapper.querySelector('.sticky-phones-content')\r\n  const phoneImgs = phoneContent.querySelectorAll('img');\r\n  const steps = document.querySelectorAll('.steps li');\r\n  const stepsReact = [...steps].reduce((prev, cur, ind) => {\r\n    const stepRect = cur.getBoundingClientRect();\r\n    prev[`${ind}`] = stepRect;\r\n    return prev;\r\n  }, {})\r\n  const sectionRect = startSection.getBoundingClientRect();\r\n  phoneImgs.forEach((img, ind) => img.style.zIndex = `${ind}`)\r\n\r\n  const phoneWrapDesctination = sectionRect.height - stepsReact[steps.length - 1].height - 50;\r\n\r\n  // Phone wrapper scroll anim\r\n  gsap.fromTo(\r\n    phonesWrapper,\r\n    {\r\n      x: 5,\r\n      y: -stepsReact[0].height / 2,\r\n      rotation: 3,\r\n      skewX: -2,\r\n    },\r\n    {\r\n      x: -5,\r\n      y: phoneWrapDesctination,\r\n      rotation: -3,\r\n      skewX: 2,\r\n      scrollTrigger: {\r\n        trigger: startSection,\r\n        start: `top 40%`,\r\n        end: `bottom`,\r\n        scrub: 0.5,\r\n        // markers: true,\r\n      },\r\n    }\r\n  );\r\n\r\n  const phoneContentHeight = phoneContent.getBoundingClientRect().height;\r\n\r\n  // Content images scroll anim\r\n  phoneImgs.forEach((img, ind) => {\r\n    if (ind > 0) {\r\n      gsap.fromTo(\r\n        img,\r\n        {\r\n          x: 0,\r\n          y: -phoneContentHeight,\r\n          rotation: 0,\r\n        },\r\n        {\r\n          x: 0,\r\n          y: 0,\r\n          rotation: 0,\r\n          scrollTrigger: {\r\n            trigger: steps[ind],\r\n            start: `20% 80%-${phoneContentHeight}`,\r\n            end: `bottom-=100px 85%`,\r\n            scrub: 1,\r\n            // markers: true,\r\n            onUpdate: (self) => {\r\n              const filterValue = self.progress.toFixed(3) * 20;\r\n              phoneImgs[ind - 1].style.filter = `blur(${filterValue}px)`;\r\n            }\r\n          },\r\n        }\r\n      )\r\n    }\r\n  })\r\n}"],"file":"main.js"}