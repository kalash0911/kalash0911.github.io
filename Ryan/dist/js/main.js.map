{"version":3,"sources":["main.js"],"names":["initStickyPhone","destroySlidersOnResize","selector","width","obj","moreThan","init","win","window","sliderSelector","document","querySelector","swiper","Swiper","toggleInit","neededWidth","innerWidth","classList","contains","destroy","forEach","evt","addEventListener","spaceBetween","pagination","el","startSection","phonesWrapper","phoneContent","phoneImgs","querySelectorAll","steps","stepsReact","reduce","prev","cur","ind","stepRect","getBoundingClientRect","sectionRect","img","style","zIndex","phoneWrapDesctination","height","length","gsap","fromTo","x","y","rotation","skewX","scrollTrigger","trigger","start","end","scrub","phoneContentHeight","onUpdate","self","filterValue","progress","toFixed","filter"],"mappings":"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","sourcesContent":["\r\ninitStickyPhone();\r\n\r\n// Swiper:\r\n\r\nfunction destroySlidersOnResize(selector, width, obj, moreThan) {\r\n  const init = {\r\n    ...obj,\r\n  };\r\n\r\n  const win = window;\r\n  const sliderSelector = document.querySelector(selector);\r\n  let swiper = new Swiper(selector, init);\r\n\r\n  const toggleInit = () => {\r\n    const neededWidth = moreThan\r\n      ? win.innerWidth >= width\r\n      : win.innerWidth <= width;\r\n    if (neededWidth) {\r\n      if (!sliderSelector?.classList.contains(\"swiper-initialized\")) {\r\n        swiper = new Swiper(selector, init);\r\n      }\r\n    } else if (sliderSelector.classList.contains(\"swiper-initialized\")) {\r\n      swiper.destroy();\r\n    }\r\n  };\r\n\r\n  [\"load\", \"resize\"].forEach((evt) =>\r\n    win.addEventListener(evt, toggleInit, false)\r\n  );\r\n}\r\n\r\ndestroySlidersOnResize(\".me-slider\", 960, {\r\n  spaceBetween: 20,\r\n\r\n  pagination: {\r\n    el: \".swiper-pagination\",\r\n  },\r\n});\r\n\r\nfunction initStickyPhone() {\r\n  const startSection = document.querySelector(\".phone-section\");\r\n  const phonesWrapper = startSection.querySelector('.sticky-phones-wrapper');\r\n  const phoneContent = phonesWrapper.querySelector('.sticky-phones-content')\r\n  const phoneImgs = phoneContent.querySelectorAll('img');\r\n  const steps = document.querySelectorAll('.steps li');\r\n  const stepsReact = [...steps].reduce((prev, cur, ind) => {\r\n    const stepRect = cur.getBoundingClientRect();\r\n    prev[`${ind}`] = stepRect;\r\n    return prev;\r\n  }, {})\r\n  const sectionRect = startSection.getBoundingClientRect();\r\n  phoneImgs.forEach((img, ind) => img.style.zIndex = `${ind}`)\r\n\r\n  if(!phonesWrapper || !startSection || !steps) return;\r\n\r\n  const phoneWrapDesctination = sectionRect.height - stepsReact[steps.length - 1].height - 50;\r\n\r\n  // Phone wrapper scroll anim\r\n  gsap.fromTo(\r\n    phonesWrapper,\r\n    {\r\n      x: 5,\r\n      y: -stepsReact[0].height / 2,\r\n      rotation: 3,\r\n      skewX: -2,\r\n    },\r\n    {\r\n      x: -5,\r\n      y: phoneWrapDesctination,\r\n      rotation: -3,\r\n      skewX: 2,\r\n      scrollTrigger: {\r\n        trigger: startSection,\r\n        start: `top 40%`,\r\n        end: `bottom`,\r\n        scrub: 0.5,\r\n        // markers: true,\r\n      },\r\n    }\r\n  );\r\n\r\n  const phoneContentHeight = phoneContent.getBoundingClientRect().height;\r\n\r\n  // Content images scroll anim\r\n  phoneImgs.forEach((img, ind) => {\r\n    if(ind > 0) {\r\n      gsap.fromTo(\r\n        img,\r\n        {\r\n          x: 0,\r\n          y: -phoneContentHeight,\r\n          rotation: 0,\r\n        },\r\n        {\r\n          x: 0,\r\n          y: 0,\r\n          rotation: 0,\r\n          scrollTrigger: {\r\n            trigger: steps[ind],\r\n            start: `20% 80%-${phoneContentHeight}`,\r\n            end: `bottom-=100px 85%`,\r\n            scrub: 1,\r\n            // markers: true,\r\n            onUpdate: (self) => {\r\n              const filterValue = self.progress.toFixed(3) * 20;\r\n              phoneImgs[ind-1].style.filter = `blur(${filterValue}px)`;\r\n            }\r\n          },\r\n        }\r\n      )\r\n    }\r\n  })\r\n}"],"file":"main.js"}