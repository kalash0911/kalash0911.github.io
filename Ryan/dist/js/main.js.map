{"version":3,"sources":["main.js"],"names":["supportsHEVCAlpha","navigator","window","ua","userAgent","toLowerCase","hasMediaCapabilities","mediaCapabilities","decodingInfo","isSafari","indexOf","isiphone","test","platform","maxTouchPoints","playerKids","document","querySelectorAll","playerStep","playerStepMob","forEach","video","ind","src","initVideoPlayers","videoWraps","videoWrap","querySelector","playButton","addEventListener","e","paused","play","classList","toggle","pause","initVideoPlayersPopUp","muteButton","volume","currentTimeElement","durationTimeElement","progress","progressBar","muted","target","value","currentTime","currentMinutes","Math","floor","currentSeconds","durationMinutes","duration","durationSeconds","innerHTML","percentage","style","width","progressTime","offsetX","offsetWidth","stopMedia","remove","itemImg","modal","modalImg","overflowImg","closeBtnImg","showImg","body","add","preventDefault","img","closest","getAttribute","setAttribute","closeImg","i","length","modalActive"],"mappings":"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","sourcesContent":["function supportsHEVCAlpha() {\r\n    const navigator = window.navigator;\r\n    const ua = navigator.userAgent.toLowerCase()\r\n    const hasMediaCapabilities = !!(navigator.mediaCapabilities && navigator.mediaCapabilities.decodingInfo)\r\n    const isSafari = ((ua.indexOf('safari') != -1) && (!(ua.indexOf('chrome') != -1) && (ua.indexOf('version/') != -1)))\r\n    const isiphone = (/iPad|iPhone|iPod/.test(navigator.userAgent)) || (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1)\r\n    return (isSafari || isiphone) && hasMediaCapabilities\r\n}\r\n\r\nconst playerKids = document.querySelectorAll('.kids');\r\nconst playerStep = document.querySelectorAll('.img-step');\r\nconst playerStepMob = document.querySelectorAll('.img-step-mob');\r\n\r\nplayerKids.forEach((video, ind) => { video.src = supportsHEVCAlpha() ? `./files/${ind + 1}.mov` : `./files/${ind + 1}.webm`; })\r\n\r\nplayerStep.forEach((video, ind) => { video.src = supportsHEVCAlpha() ? `./files/step${ind + 1}.mp4` : `./files/step${ind + 1}.webm`; })\r\n\r\nplayerStepMob.forEach((video, ind) => { video.src = supportsHEVCAlpha() ? `./files/step${ind + 1}-mob.mp4` : `./files/step${ind + 1}-mob.webm`; })\r\n\r\n\r\n\r\n// Video controls\r\ninitVideoPlayers();\r\n\r\nfunction initVideoPlayers() {\r\n    const videoWraps = document.querySelectorAll(\".video-wrap\");\r\n    videoWraps?.forEach((videoWrap) => {\r\n        const video = videoWrap.querySelector(\".video\");\r\n        const playButton = videoWrap.querySelector(\".play-button\");\r\n\r\n        //Play and Pause button\r\n        playButton.addEventListener(\"click\", (e) => {\r\n            if (video.paused) {\r\n                video.play();\r\n                videoWrap.classList.toggle(\"active\");\r\n            } else {\r\n                video.pause();\r\n                videoWrap.classList.toggle(\"active\");\r\n            }\r\n        });\r\n\r\n    });\r\n}\r\n\r\n// Video controls pop-up\r\ninitVideoPlayersPopUp();\r\n\r\nfunction initVideoPlayersPopUp() {\r\n    const videoWraps = document.querySelectorAll(\".video-wrap-pop-up\");\r\n    videoWraps?.forEach((videoWrap) => {\r\n        const video = videoWrap.querySelector(\".video\");\r\n        const playButton = videoWrap.querySelector(\".play-button\");\r\n        const muteButton = videoWrap.querySelector(\".mute-button\");\r\n        const volume = videoWrap.querySelector(\".volume\");\r\n        const currentTimeElement = videoWrap.querySelector(\".current\");\r\n        const durationTimeElement = videoWrap.querySelector(\".duration\");\r\n        const progress = videoWrap.querySelector(\".video-progress\");\r\n        const progressBar = videoWrap.querySelector(\".video-progress-filled\");\r\n\r\n        //Play and Pause button\r\n        playButton.addEventListener(\"click\", (e) => {\r\n            if (video.paused) {\r\n                video.play();\r\n                videoWrap.classList.toggle(\"active\");\r\n            } else {\r\n                video.pause();\r\n                videoWrap.classList.toggle(\"active\");\r\n            }\r\n        });\r\n\r\n        //Mute button\r\n        muteButton.addEventListener(\"click\", (e) => {\r\n            if (video.muted) {\r\n                video.muted = false;\r\n                muteButton.classList.toggle(\"mute\");\r\n            } else {\r\n                video.muted = true;\r\n                muteButton.classList.toggle(\"mute\");\r\n            }\r\n        });\r\n\r\n        //volume\r\n        volume.addEventListener(\"mousemove\", (e) => {\r\n            video.volume = e.target.value;\r\n        });\r\n\r\n        //current time and duration\r\n        const currentTime = () => {\r\n            let currentMinutes = Math.floor(video.currentTime / 60);\r\n            let currentSeconds = Math.floor(video.currentTime - currentMinutes * 60);\r\n            let durationMinutes = Math.floor(video.duration / 60);\r\n            let durationSeconds = Math.floor(video.duration - durationMinutes * 60);\r\n\r\n            currentTimeElement.innerHTML = `${currentMinutes}:${currentSeconds < 10 ? \"0\" + currentSeconds : currentSeconds\r\n                }`;\r\n            durationTimeElement.innerHTML = `${durationMinutes}:${durationSeconds}`;\r\n        };\r\n\r\n        video.addEventListener(\"timeupdate\", currentTime);\r\n\r\n        //Progress bar\r\n        video.addEventListener(\"timeupdate\", () => {\r\n            const percentage = (video.currentTime / video.duration) * 100;\r\n            progressBar.style.width = `${percentage}%`;\r\n        });\r\n\r\n        //change progress bar on click\r\n        progress.addEventListener(\"click\", (e) => {\r\n            const progressTime = (e.offsetX / progress.offsetWidth) * video.duration;\r\n            video.currentTime = progressTime;\r\n        });\r\n\r\n        video.addEventListener(\"ended\", stopMedia);\r\n        function stopMedia() {\r\n            video.pause();\r\n            video.currentTime = 0;\r\n            videoWrap.classList.remove(\"active\");\r\n        }\r\n\r\n    });\r\n}\r\n\r\n/* Modal popUp img */\r\n\r\nconst itemImg = document.querySelectorAll('.gallery__item-img');\r\nconst modal = document.querySelector('.modal-pop-up');\r\nconst modalImg = modal.querySelector('img');\r\nconst overflowImg = document.querySelector('.modal-overflow');\r\nconst closeBtnImg = document.querySelector('.modal-btn-close');\r\n\r\nfunction showImg(e) {\r\n    document.body.classList.add(\"body_lock\");\r\n    modal.classList.add(\"modal-img_active\");\r\n    e.preventDefault();\r\n\r\n    let img = e.target.closest('img');\r\n    let src = img.getAttribute('src');\r\n\r\n    modalImg.setAttribute('src', src);\r\n};\r\n\r\nfunction closeImg() {\r\n    document.body.classList.remove(\"body_lock\");\r\n    modal.classList.remove(\"modal-img_active\");\r\n};\r\n\r\nfor (let i = 0; i < itemImg.length; ++i) {\r\n    itemImg[i].addEventListener(\"click\", function (e) {\r\n        showImg(e);\r\n    });\r\n};\r\n\r\nlet modalActive = document.querySelectorAll('.modal-img_active');\r\n\r\nif (modalActive) {\r\n    overflowImg.addEventListener(\"click\", function (e) {\r\n        closeImg();\r\n        e.preventDefault();\r\n    });\r\n\r\n    closeBtnImg.addEventListener(\"click\", function (e) {\r\n        closeImg();\r\n        e.preventDefault();\r\n    });\r\n};"],"file":"main.js"}