{"version":3,"sources":["main.js"],"names":["window","addEventListener","event","circleImageAnimation","initStickyPhone","startSection","document","querySelector","phonesWrapper","phoneContent","kidsWrapper","kidsContent","phoneImgs","querySelectorAll","kidsElements","steps","stepsReact","reduce","prev","cur","ind","stepRect","getBoundingClientRect","sectionRect","forEach","img","style","zIndex","el","phoneWrapDesctination","height","phoneContentHeight","kidsContentHeight","gsap","fromTo","x","rotation","skewX","scrollTrigger","trigger","start","end","scrub","pin","onEnter","kidsAnimation","play","y","onUpdate","self","filterValue","progress","toFixed","filter","opacity","pause","onLeave","radToDegree","radians","Math","PI","calcIsoscelesTriangleDegree","a","b","cosA","aDeg","acos","bDeg","calcRightAngledTriangleDegree","tanA","atan","calcInitRotation","rightAngledTriangleBDeg","isoscelesTriangleBDeg","correction","innerWidth","calcFinalRotation","cellsLength","wrapper","cardHolder","cells","offsetWidth","offsetHeight","IsoscelesTriangleBDeg","RightAngledTriangleBDeg","length","Array","fill","map","elem","arr","animLoadCounter","totalDuration","anim","bodymovin","loadAnimation","container","getElementById","path","render","loop","autoplay","stop","onComplete","getDuration"],"mappings":"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","sourcesContent":["window.addEventListener(\"load\", (event) => {\r\n  circleImageAnimation();\r\n  initStickyPhone();\r\n});\r\n\r\nfunction initStickyPhone() {\r\n  const startSection = document.querySelector(\".phone-section\");\r\n  const phonesWrapper = startSection.querySelector('.sticky-phones-wrapper');\r\n  const phoneContent = phonesWrapper.querySelector('.sticky-phones-content');\r\n  const kidsWrapper = startSection.querySelector('.sticky-kids-wrapper');\r\n  const kidsContent = startSection.querySelector('.sticky-kids-content');\r\n  const phoneImgs = phoneContent.querySelectorAll('img');\r\n  const kidsElements = kidsContent.querySelectorAll('[id*=kids_anim]');\r\n  const steps = document.querySelectorAll('.steps li');\r\n  const stepsReact = [...steps].reduce((prev, cur, ind) => {\r\n    const stepRect = cur.getBoundingClientRect();\r\n    prev[`${ind}`] = stepRect;\r\n    return prev;\r\n  }, {})\r\n  const sectionRect = startSection.getBoundingClientRect();\r\n  phoneImgs.forEach((img, ind) => img.style.zIndex = `${ind}`);\r\n  kidsElements.forEach((el, ind) => el.style.zIndex = `${ind}`);\r\n\r\n\r\n  const phoneWrapDesctination = sectionRect.height - stepsReact[0].height + 280;\r\n  const phoneContentHeight = phoneContent.getBoundingClientRect().height;\r\n  const kidsContentHeight =  kidsContent.getBoundingClientRect().height;\r\n\r\n  // Phone wrapper scroll anim\r\n  gsap.fromTo(\r\n    phonesWrapper,\r\n    {\r\n      x: 5,\r\n      rotation: 3,\r\n      skewX: -2,\r\n    },\r\n    {\r\n      x: -5,\r\n      rotation: -3,\r\n      skewX: 2,\r\n      scrollTrigger: {\r\n        trigger: phonesWrapper,\r\n        start: `${stepsReact[0].height}-=250px center`,\r\n        end: `${phoneWrapDesctination} center`,\r\n        scrub: 0.5,\r\n        // markers: true,\r\n        pin: phonesWrapper,\r\n      },\r\n    }\r\n  );\r\n\r\n  //Kids wrapper scroll anim\r\n  gsap.fromTo(\r\n    kidsWrapper,\r\n    {\r\n      x: 0,\r\n    },\r\n    {\r\n      x: 0,\r\n      scrollTrigger: {\r\n        trigger: phonesWrapper,\r\n        start: `${stepsReact[0].height}-=250px center`,\r\n        end: `${phoneWrapDesctination} center`,\r\n        scrub: 0.5,\r\n        // markers: true,\r\n        pin: kidsWrapper,\r\n        onEnter: () => {\r\n          kidsAnimation[0].play()\r\n        }\r\n      },\r\n    }\r\n  );\r\n\r\n  // Content images scroll anim\r\n  phoneImgs.forEach((img, ind) => {\r\n    if (ind > 0) {\r\n      gsap.fromTo(\r\n        img,\r\n        {\r\n          x: 0,\r\n          y: -phoneContentHeight,\r\n          rotation: 0,\r\n        },\r\n        {\r\n          x: 0,\r\n          y: 0,\r\n          rotation: 0,\r\n          scrollTrigger: {\r\n            trigger: steps[ind],\r\n            start: `75% 80%-${phoneContentHeight}`,\r\n            end: `bottom+=10% 85%`,\r\n            scrub: 1,\r\n            // markers: true,\r\n            onUpdate: (self) => {\r\n              const filterValue = self.progress.toFixed(3) * 20;\r\n              phoneImgs[ind - 1].style.filter = `blur(${filterValue}px)`;\r\n            },\r\n          },\r\n        }\r\n      )\r\n    }\r\n  });\r\n\r\n   // Kids anim scroll sticky\r\n   kidsElements.forEach((el, ind) => {\r\n    if (ind > 0) {\r\n      gsap.fromTo(\r\n        el,\r\n        {\r\n          x: 0,\r\n          y: -500,\r\n          rotation: 0,\r\n        },\r\n        {\r\n          x: 0,\r\n          y: 0,\r\n          rotation: 0,\r\n          scrollTrigger: {\r\n            trigger: steps[ind],\r\n            start: `75% 80%-${500}`,\r\n            end: `bottom+=10% 85%`,\r\n            scrub: 1,\r\n            // markers: true,\r\n            onUpdate: (self) => {\r\n              const filterValue = self.progress.toFixed(3) * 20;\r\n              kidsElements[ind - 1].style.filter = `blur(${filterValue}px)`;\r\n              kidsElements[ind - 1].style.opacity = `${1 - self.progress}`;\r\n              if(self.progress !== 1) {\r\n                kidsAnimation[ind].pause();\r\n              }\r\n            },\r\n            onLeave: (self) => {\r\n              kidsAnimation[ind].play();\r\n            },\r\n          },\r\n        }\r\n      )\r\n    }\r\n  });\r\n}\r\n\r\n/* ------------------- card section carousel ----------------*/\r\n/* ------------------- triangle degrees helpers ----------------*/\r\nconst radToDegree = (radians) => {\r\n  return radians * (180 / Math.PI);\r\n};\r\n\r\nconst calcIsoscelesTriangleDegree = (a, b) => {\r\n  const cosA = b / (2 * a);\r\n  const aDeg = radToDegree(Math.acos(cosA));\r\n  const bDeg = 180 - aDeg * 2;\r\n  return { cosA, aDeg, bDeg }\r\n};\r\n\r\nconst calcRightAngledTriangleDegree = (a, b) => {\r\n  const tanA = a/ b;\r\n  const aDeg = radToDegree(Math.atan(tanA));\r\n  const bDeg = 180 - 90 - aDeg;\r\n  return { tanA, aDeg, bDeg }\r\n};\r\n\r\nconst calcInitRotation = (rightAngledTriangleBDeg, isoscelesTriangleBDeg) => {\r\n  // hardcoded fix for mobile\r\n  let correction = 0;\r\n  if (window.innerWidth <= 1024) {\r\n    correction = 6;\r\n  }\r\n  if (window.innerWidth <= 480) {\r\n    correction = 3;\r\n  }\r\n  return rightAngledTriangleBDeg / 2 + isoscelesTriangleBDeg - correction;\r\n};\r\n\r\nconst calcFinalRotation = (rightAngledTriangleBDeg, isoscelesTriangleBDeg, cellsLength) => {\r\n  let correction = 0;\r\n  if (window.innerWidth <= 1024) {\r\n    correction = -3;\r\n  }\r\n  if (window.innerWidth <= 480) {\r\n    correction = -1;\r\n  }\r\n  return -(isoscelesTriangleBDeg * cellsLength - rightAngledTriangleBDeg * 2) - rightAngledTriangleBDeg / 2 - correction;\r\n};\r\n\r\n/* ------------------- card section initialization ----------------*/\r\nfunction circleImageAnimation() {\r\n  const wrapper = document.querySelector(\".card-section\");\r\n  const cardHolder = document.querySelector(\".card-holder\");\r\n  const cells = document.querySelectorAll(\".card-holder .item\");\r\n\r\n  if (!wrapper || !cardHolder || !cells) return;\r\n\r\n  const { bDeg: IsoscelesTriangleBDeg } = calcIsoscelesTriangleDegree(cardHolder.offsetWidth / 2 - cells[0].offsetHeight, cells[0].offsetWidth);\r\n  const { aDeg: RightAngledTriangleBDeg } = calcRightAngledTriangleDegree(wrapper.offsetWidth / 2, cardHolder.offsetWidth / 2);\r\n\r\n  gsap.fromTo(\r\n    cardHolder,\r\n    {\r\n      x: 0,\r\n      rotation: - calcInitRotation(RightAngledTriangleBDeg, IsoscelesTriangleBDeg),\r\n    },\r\n    {\r\n      x: 0,\r\n      rotation: calcFinalRotation(RightAngledTriangleBDeg, IsoscelesTriangleBDeg, cells.length) > 0 ? 0 : calcFinalRotation(RightAngledTriangleBDeg, IsoscelesTriangleBDeg, cells.length),\r\n      scrollTrigger: {\r\n        trigger: wrapper,\r\n        start: '30% 50%',\r\n        pin: \".carousel-wrap\",\r\n        end: `bottom`,\r\n        scrub: 0.5,\r\n        // markers: true,\r\n      },\r\n    }\r\n  );\r\n}\r\n\r\nconst kidsAnimation = new Array(5).fill('kids_anim').map((elem, ind, arr) => {\r\n  let animLoadCounter = 0;\r\n  let totalDuration = 0;\r\n  const anim = bodymovin.loadAnimation({\r\n    container: document.getElementById(`${elem}_${ind + 1}`),\r\n    path: `./files/anim_${ind + 1}.json`,\r\n    render: \"svg\",\r\n    loop: true,\r\n    autoplay: false,\r\n  });\r\n  anim.addEventListener(\"DOMLoaded\", () => {\r\n    animLoadCounter += 1;\r\n    anim.stop();\r\n    if (animLoadCounter === arr.length) {\r\n      totalDuration = kidsAnimation.reduce((prev, cur, ind) => {\r\n        cur.onComplete = () => {\r\n          // anim complete cb\r\n        };\r\n        return (prev += cur.getDuration());\r\n      }, 0);\r\n    }\r\n  });\r\n  return anim;\r\n});"],"file":"main.js"}