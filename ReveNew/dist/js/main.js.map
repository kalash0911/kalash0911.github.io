{"version":3,"sources":["main.js"],"names":["burger","document","querySelector","menuBody","linkClose","querySelectorAll","overflow","addEventListener","e","body","classList","toggle","contains","add","remove","length","i","didScroll","paralaxTitles","scrollInProgress","raf","forEach","element","index","style","transform","window","scrollY","requestAnimationFrame","destroySlidersOnResize","selector","width","obj","moreThan","init","win","sliderSelector","swiper","Swiper","toggleInit","neededWidth","innerWidth","destroy","evt","autoplay","delay","thumbs","el","slidesPerView","planSlider","direction","loop","navigation","nextEl","prevEl","breakpoints","on","activeIndexChange","activeIndex","previousIndex","ind","indexOf","prevInd","jsonPhoneAnimations","play","stop","planSliders","animLoadCounter","totalDuration","map","step","arr","anim","bodymovin","loadAnimation","container","getElementById","path","render","reduce","prev","cur","onComplete","console","log","slideNext","getDuration"],"mappings":"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","sourcesContent":["// for header\r\n\r\nconst burger = document.querySelector(\".burger\");\r\nconst menuBody = document.querySelector(\".menu-wrap\");\r\nconst linkClose = document.querySelectorAll(\".link-close\");\r\nconst overflow = document.querySelector(\".overflow\");\r\n\r\nif (burger) {\r\n  burger.addEventListener(\"click\", function (e) {\r\n    document.body.classList.toggle(\"body_lock\");\r\n    document.body.classList.toggle(\"active\");\r\n    if (burger.classList.contains('burger_active')) {\r\n      burger.classList.add('burger_finish');\r\n      burger.classList.remove('burger_active');\r\n      overflow.classList.toggle(\"overflow_active\");\r\n    } else {\r\n      burger.classList.add('burger_active');\r\n      burger.classList.remove('burger_finish');\r\n      overflow.classList.toggle(\"overflow_active\");\r\n    }\r\n    menuBody.classList.toggle(\"menu_active\");\r\n  });\r\n};\r\n\r\nif (overflow) {\r\n  overflow.addEventListener(\"click\", function (e) {\r\n    document.body.classList.toggle(\"body_lock\");\r\n    document.body.classList.toggle(\"active\");\r\n    if (burger.classList.contains('burger_active')) {\r\n      burger.classList.add('burger_finish');\r\n      burger.classList.remove('burger_active');\r\n      overflow.classList.toggle(\"overflow_active\");\r\n    } else {\r\n      burger.classList.add('burger_active');\r\n      burger.classList.remove('burger_finish');\r\n      overflow.classList.toggle(\"overflow_active\");\r\n    }\r\n    menuBody.classList.toggle(\"menu_active\");\r\n  });\r\n};\r\n\r\nif (linkClose.length) {\r\n  for (var i = 0; i < linkClose.length; ++i) {\r\n    linkClose[i].addEventListener(\"click\", function (e) {\r\n      document.body.classList.remove(\"body_lock\");\r\n      document.body.classList.remove(\"active\");\r\n      burger.classList.remove(\"burger_active\");\r\n      burger.classList.add('burger_finish');\r\n      menuBody.classList.remove(\"menu_active\");\r\n      overflow.classList.remove(\"overflow_active\");\r\n    })\r\n  }\r\n};\r\n\r\n// For Paralax\r\n\r\nlet didScroll = false;\r\nlet paralaxTitles = document.querySelectorAll('.paralax');\r\n\r\nconst scrollInProgress = () => {\r\n  didScroll = true\r\n}\r\n\r\nconst raf = () => {\r\n  if (didScroll) {\r\n    paralaxTitles.forEach((element, index) => {\r\n      element.style.transform = \"translateY(\" + window.scrollY / 25 + \"%)\"\r\n    })\r\n    didScroll = false;\r\n  }\r\n  requestAnimationFrame(raf);\r\n}\r\n\r\n\r\nrequestAnimationFrame(raf);\r\nwindow.addEventListener('scroll', scrollInProgress)\r\n\r\n\r\n// Swiper:\r\n\r\nfunction destroySlidersOnResize(selector, width, obj, moreThan) {\r\n  const init = {\r\n    ...obj,\r\n  };\r\n\r\n  const win = window;\r\n  const sliderSelector = document.querySelector(selector);\r\n  let swiper = new Swiper(selector, init);\r\n\r\n  const toggleInit = () => {\r\n    const neededWidth = moreThan\r\n      ? win.innerWidth >= width\r\n      : win.innerWidth <= width;\r\n    if (neededWidth) {\r\n      if (!sliderSelector?.classList.contains(\"swiper-initialized\")) {\r\n        swiper = new Swiper(selector, init);\r\n      }\r\n    } else if (sliderSelector.classList.contains(\"swiper-initialized\")) {\r\n      swiper.destroy();\r\n    }\r\n  };\r\n\r\n  [\"load\", \"resize\"].forEach((evt) =>\r\n    win.addEventListener(evt, toggleInit, false)\r\n  );\r\n\r\n  return swiper;\r\n}\r\n\r\ndestroySlidersOnResize(\".slider-vip\", 99999, {\r\n\r\n  autoplay: {\r\n    delay: 2000,\r\n  },\r\n\r\n  thumbs: {\r\n    swiper: {\r\n      el: '.slider-vip-nav',\r\n      slidesPerView: 5,\r\n    },\r\n  },\r\n\r\n});\r\n\r\ndestroySlidersOnResize(\".slider-vip-nav\", 99999, {});\r\n\r\nconst planSlider = destroySlidersOnResize(\".slider-plan\", 99999, {\r\n  thumbs: {\r\n    swiper: {\r\n      el: \".slider-plan-nav\",\r\n      direction: \"vertical\",\r\n      slidesPerView: 8,\r\n      loop: true,\r\n\r\n      navigation: {\r\n        nextEl: \".next\",\r\n        prevEl: \".prev\",\r\n      },\r\n\r\n      breakpoints: {\r\n        768: {\r\n          slidesPerView: 8,\r\n        },\r\n\r\n        320: {\r\n          slidesPerView: 4,\r\n        },\r\n      },\r\n    },\r\n  },\r\n  on: {\r\n    activeIndexChange: (swiper) => {\r\n      // jsonPhoneAnimations[swiper.activeIndex].play();\r\n      // jsonPhoneAnimations[swiper.previousIndex].stop();\r\n      // TODO: Replace when will be full list of animation\r\n      const { activeIndex, previousIndex } = swiper;\r\n      const ind = [\"1\", \"3\", \"4\", \"6\", \"7\", \"9\", \"10\", \"11\", \"12\"].indexOf(\r\n        `${activeIndex + 1}`\r\n      );\r\n      const prevInd = [\"1\", \"3\", \"4\", \"6\", \"7\", \"9\", \"10\", \"11\", \"12\"].indexOf(\r\n        `${previousIndex + 1}`\r\n      );\r\n      jsonPhoneAnimations[ind]?.play();\r\n      jsonPhoneAnimations[prevInd]?.stop();\r\n    },\r\n  },\r\n});\r\n\r\ndestroySlidersOnResize(\".slider-plan-nav\", 99999, {});\r\n\r\nconst planSliders = document.querySelectorAll(\r\n  \".plan-section .slider-plan .swiper-slide\"\r\n);\r\nlet animLoadCounter = 0;\r\nlet totalDuration = 0;\r\n// TODO: Replace when will be full list of animation\r\n// new Array(planSliders.length).fill('step')\r\nconst jsonPhoneAnimations = [\r\n  \"1\",\r\n  \"3\",\r\n  \"4\",\r\n  \"6\",\r\n  \"7\",\r\n  \"9\",\r\n  \"10\",\r\n  \"11\",\r\n  \"12\",\r\n].map((step, ind, arr) => {\r\n  const anim = bodymovin.loadAnimation({\r\n    // container: document.getElementById(`${step}_${ind + 1}`),\r\n    container: document.getElementById(`step_${step}`),\r\n    path: `./files/plan_anim/data-${step}.json`,\r\n    render: \"svg\",\r\n    loop: false,\r\n    autoplay: false,\r\n  });\r\n  anim.addEventListener(\"DOMLoaded\", () => {\r\n    animLoadCounter += 1;\r\n    if (animLoadCounter === arr.length) {\r\n      totalDuration = jsonPhoneAnimations.reduce((prev, cur) => {\r\n        cur.onComplete = () => {\r\n          console.log(\"cur: \", cur);\r\n          planSlider.slideNext();\r\n        };\r\n        return (prev += cur.getDuration());\r\n      }, 0);\r\n      jsonPhoneAnimations[0].play();\r\n    }\r\n  });\r\n  return anim;\r\n});"],"file":"main.js"}