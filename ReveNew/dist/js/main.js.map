{"version":3,"sources":["main.js"],"names":["burger","document","querySelector","menuBody","linkClose","querySelectorAll","overflow","addEventListener","e","body","classList","toggle","contains","add","remove","length","i","handleScroll","window","scrollY","section","getElementById","paralax","windowHeight","innerHeight","sectionTop","getBoundingClientRect","top","sectionBottom","bottom","translateY","Math","max","style","transform","destroySlidersOnResize","selector","width","obj","moreThan","init","win","sliderSelector","swiper","Swiper","toggleInit","neededWidth","innerWidth","destroy","forEach","evt","vipSlider","autoplay","delay","thumbs","el","slidesPerView","stop","planSlider","navigation","nextEl","prevEl","pagination","dynamicBullets","breakpoints","on","activeIndexChange","jsonPhoneAnimations","activeIndex","play","previousIndex","planSliderNav","direction","mousewheel","freeMode","handleScreenSizeChange","controller","control","planSliders","animLoadCounter","totalDuration","Array","fill","map","step","ind","arr","anim","bodymovin","loadAnimation","container","path","render","loop","reduce","prev","cur","onComplete","slideNext","getDuration","isPlanSectionViewed","isVipSectionViewed","startSlider","target","sectionClassName","className","start","planIntersectionObs","vipIntersectionObs","callback","entries","observer","entry","isIntersecting","createObserver","options","root","threshold","IntersectionObserver","observe"],"mappings":"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","sourcesContent":["// for header\r\n\r\nconst burger = document.querySelector(\".burger\");\r\nconst menuBody = document.querySelector(\".menu-wrap\");\r\nconst linkClose = document.querySelectorAll(\".link-close\");\r\nconst overflow = document.querySelector(\".overflow\");\r\n\r\nif (burger) {\r\n  burger.addEventListener(\"click\", function (e) {\r\n    document.body.classList.toggle(\"body_lock\");\r\n    document.body.classList.toggle(\"active\");\r\n    if (burger.classList.contains('burger_active')) {\r\n      burger.classList.add('burger_finish');\r\n      burger.classList.remove('burger_active');\r\n      overflow.classList.toggle(\"overflow_active\");\r\n    } else {\r\n      burger.classList.add('burger_active');\r\n      burger.classList.remove('burger_finish');\r\n      overflow.classList.toggle(\"overflow_active\");\r\n    }\r\n    menuBody.classList.toggle(\"menu_active\");\r\n  });\r\n};\r\n\r\nif (overflow) {\r\n  overflow.addEventListener(\"click\", function (e) {\r\n    document.body.classList.toggle(\"body_lock\");\r\n    document.body.classList.toggle(\"active\");\r\n    if (burger.classList.contains('burger_active')) {\r\n      burger.classList.add('burger_finish');\r\n      burger.classList.remove('burger_active');\r\n      overflow.classList.toggle(\"overflow_active\");\r\n    } else {\r\n      burger.classList.add('burger_active');\r\n      burger.classList.remove('burger_finish');\r\n      overflow.classList.toggle(\"overflow_active\");\r\n    }\r\n    menuBody.classList.toggle(\"menu_active\");\r\n  });\r\n};\r\n\r\nif (linkClose.length) {\r\n  for (var i = 0; i < linkClose.length; ++i) {\r\n    linkClose[i].addEventListener(\"click\", function (e) {\r\n      document.body.classList.remove(\"body_lock\");\r\n      document.body.classList.remove(\"active\");\r\n      burger.classList.remove(\"burger_active\");\r\n      burger.classList.add('burger_finish');\r\n      menuBody.classList.remove(\"menu_active\");\r\n      overflow.classList.remove(\"overflow_active\");\r\n    })\r\n  }\r\n};\r\n\r\n// For Scroll\r\n\r\nfunction handleScroll() {\r\n  const body = document.querySelector('body');\r\n\r\n  if (window.scrollY > 0) {\r\n    body.classList.add('scroll');\r\n  } else {\r\n    body.classList.remove('scroll');\r\n  }\r\n}\r\n\r\nwindow.addEventListener('scroll', handleScroll);\r\n\r\n// For Paralax\r\n\r\nwindow.addEventListener('scroll', function () {\r\n  const section = document.getElementById('mission');\r\n  const paralax = document.querySelector('.paralax');\r\n  const windowHeight = window.innerHeight;\r\n  const sectionTop = section.getBoundingClientRect().top;\r\n  const sectionBottom = section.getBoundingClientRect().bottom;\r\n\r\n  if (sectionBottom <= windowHeight && sectionBottom >= 0) {\r\n    const translateY = Math.max(0, (sectionBottom - windowHeight) / -windowHeight * 300);\r\n    paralax.style.transform = `translateY(${translateY}%)`;\r\n  }\r\n});\r\n\r\n\r\n// Swiper:\r\n\r\nfunction destroySlidersOnResize(selector, width, obj, moreThan) {\r\n  const init = {\r\n    ...obj,\r\n  };\r\n\r\n  const win = window;\r\n  const sliderSelector = document.querySelector(selector);\r\n  let swiper = new Swiper(selector, init);\r\n\r\n  const toggleInit = () => {\r\n    const neededWidth = moreThan\r\n      ? win.innerWidth >= width\r\n      : win.innerWidth <= width;\r\n    if (neededWidth) {\r\n      if (!sliderSelector?.classList.contains(\"swiper-initialized\")) {\r\n        swiper = new Swiper(selector, init);\r\n      }\r\n    } else if (sliderSelector.classList.contains(\"swiper-initialized\")) {\r\n      swiper.destroy();\r\n    }\r\n  };\r\n\r\n  [\"load\", \"resize\"].forEach((evt) =>\r\n    win.addEventListener(evt, toggleInit, false)\r\n  );\r\n\r\n  return swiper;\r\n}\r\n\r\nconst vipSlider = destroySlidersOnResize(\".slider-vip\", 99999, {\r\n\r\n  autoplay: {\r\n    delay: 5000,\r\n  },\r\n\r\n  thumbs: {\r\n    swiper: {\r\n      el: '.slider-vip-nav',\r\n      slidesPerView: 5,\r\n    },\r\n  },\r\n\r\n});\r\nvipSlider.autoplay.stop();\r\n\r\ndestroySlidersOnResize(\".slider-vip-nav\", 99999, {});\r\n\r\nconst planSlider = destroySlidersOnResize(\".slider-plan\", 99999, {\r\n\r\n  navigation: {\r\n    nextEl: \".next\",\r\n    prevEl: \".prev\",\r\n  },\r\n\r\n  thumbs: {\r\n    swiper: \".slider-plan-nav\",\r\n  },\r\n\r\n  pagination: {\r\n    el: \".swiper-pagination\",\r\n    dynamicBullets: true,\r\n  },\r\n\r\n  breakpoints: {\r\n    768: {\r\n      thumbs: {\r\n        swiper: \".slider-plan-nav\",\r\n      },\r\n    },\r\n\r\n    320: {\r\n      thumbs: false,\r\n    },\r\n  },\r\n  on: {\r\n    activeIndexChange: (swiper) => {\r\n      jsonPhoneAnimations[swiper.activeIndex].play();\r\n      jsonPhoneAnimations[swiper.previousIndex].stop();\r\n      /* const { activeIndex, previousIndex } = swiper;\r\n      const ind = notFullAnimData.indexOf(\r\n        `${activeIndex + 1}`\r\n      );\r\n      const prevInd = notFullAnimData.indexOf(\r\n        `${previousIndex + 1}`\r\n      );\r\n      jsonPhoneAnimations[ind]?.play();\r\n      jsonPhoneAnimations[prevInd]?.stop(); */\r\n    },\r\n  },\r\n});\r\n\r\nconst planSliderNav = destroySlidersOnResize(\".slider-plan-nav\", 99999, {\r\n\r\n  direction: \"vertical\",\r\n  slidesPerView: 8,\r\n  mousewheel: true,\r\n  freeMode: true,\r\n\r\n  navigation: {\r\n    nextEl: \".next\",\r\n    prevEl: \".prev\",\r\n  },\r\n\r\n  breakpoints: {\r\n    768: {\r\n      slidesPerView: 8,\r\n    },\r\n\r\n    320: {\r\n      direction: \"horizontal\",\r\n      freeMode: false,\r\n      slidesPerView: 1,\r\n    },\r\n  },\r\n\r\n});\r\n\r\nfunction handleScreenSizeChange() {\r\n  if (window.innerWidth <= 768) {\r\n    planSlider.controller.control = planSliderNav;\r\n    planSliderNav.controller.control = planSlider;\r\n  } else {\r\n  }\r\n}\r\n\r\nhandleScreenSizeChange();\r\n\r\nwindow.addEventListener('resize', handleScreenSizeChange);\r\n\r\n\r\nconst planSliders = document.querySelectorAll(\r\n  \".plan-section .slider-plan .swiper-slide\"\r\n);\r\nlet animLoadCounter = 0;\r\nlet totalDuration = 0;\r\n\r\nconst jsonPhoneAnimations = new Array(planSliders.length).fill('step').map((step, ind, arr) => {\r\n  const anim = bodymovin.loadAnimation({\r\n    container: document.getElementById(`${step}_${ind + 1}`),\r\n    path: `./files/plan_anim/data-${ind + 1}.json`,\r\n    /* container: document.getElementById(`step_${step}`),\r\n    path: `./files/plan_anim/data-${step}.json`, */\r\n    render: \"svg\",\r\n    loop: false,\r\n    autoplay: false,\r\n  });\r\n  anim.addEventListener(\"DOMLoaded\", () => {\r\n    animLoadCounter += 1;\r\n    if (animLoadCounter === arr.length) {\r\n      totalDuration = jsonPhoneAnimations.reduce((prev, cur) => {\r\n        cur.onComplete = () => {\r\n          planSlider.slideNext();\r\n        };\r\n        return (prev += cur.getDuration());\r\n      }, 0);\r\n    }\r\n  });\r\n  return anim;\r\n});\r\n\r\nlet isPlanSectionViewed = false;\r\nlet isVipSectionViewed = false;\r\n\r\nconst startSlider = ({ target }) => {\r\n  const sectionClassName = target.className;\r\n  switch (sectionClassName) {\r\n    case \"plan-section\":\r\n      if (isPlanSectionViewed) return;\r\n      jsonPhoneAnimations[0].play();\r\n      isPlanSectionViewed = true;\r\n      break;\r\n    case \"vip-section\":\r\n      if (isVipSectionViewed) return;\r\n      vipSlider.autoplay.start();\r\n      isVipSectionViewed = true;\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n};\r\n\r\nconst planIntersectionObs = document.querySelector(\".plan-section\");\r\nconst vipIntersectionObs = document.querySelector(\".vip-section\");\r\nfunction callback(entries, observer) {\r\n  entries.forEach((entry) => {\r\n    if (entry.isIntersecting) {\r\n      startSlider(entry);\r\n    }\r\n  });\r\n}\r\nfunction createObserver(target, callback) {\r\n  const options = {\r\n    root: null,\r\n    threshold: 0,\r\n  };\r\n  const observer = new IntersectionObserver(callback, options);\r\n  observer.observe(target);\r\n}\r\n\r\ncreateObserver(planIntersectionObs, callback);\r\ncreateObserver(vipIntersectionObs, callback);"],"file":"main.js"}