{"version":3,"sources":["main.js"],"names":["burger","document","querySelector","menuBody","linkClose","querySelectorAll","overflow","winTriggersMethods","prevWidth","window","innerWidth","forEach","method","addEventListener","phoneAnimation","ScrollTrigger","killAll","e","body","classList","toggle","contains","add","remove","length","i","menuSteps","loadCounter","totalDuration","timerIntervalId","animPhoneSlider","destroySlidersOnResize","spaceBetween","speed","autoplay","pagination","el","clickable","renderBullet","index","className","on","afterInit","paginationBtns","btn","ind","startProgressTimer","activeIndexChange","swiper","jsonPhoneAnimations","activeIndex","play","previousIndex","stop","Array","fill","map","step","arr","anim","bodymovin","loadAnimation","container","getElementById","path","render","loop","reduce","prev","cur","onComplete","slideNext","getDuration","secondSection","phone","sectionRect","getBoundingClientRect","fromY","top","firstSlide","gsap","fromTo","x","y","rotation","scrollTrigger","trigger","start","end","scrub","onLeave","checktimer","progress","total","intervalId","clearInterval","currentSlideIndex","reset","totalSlides","fps","durationMS","msPerSlide","intervalTimer","progressCircle","clockArrow","setInterval","percent","clockArrowDeg","style","setProperty","transform","selector","width","obj","moreThan","init","win","sliderSelector","Swiper","setTimeout","params","mousewheel","releaseOnEdges","toggleInit","neededWidth","destroy","evt"],"mappings":";;;;;;;;AAAA,IAAMA,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAf;AACA,IAAMC,QAAQ,GAAGF,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAjB;AACA,IAAME,SAAS,GAAGH,QAAQ,CAACI,gBAAT,CAA0B,aAA1B,CAAlB;AACA,IAAMC,QAAQ,GAAGL,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAjB;AAEA,IAAMK,kBAAkB,GAAG,CAAC,QAAD,EAAW,MAAX,CAA3B;AACA,IAAIC,SAAS,GAAGC,MAAM,CAACC,UAAvB;AAEAH,kBAAkB,CAACI,OAAnB,CAA2B,UAACC,MAAD,EAAY;AACrCH,EAAAA,MAAM,CAACI,gBAAP,CAAwBD,MAAxB,EAAgC,YAAM;AACpC;AACA,QAAIA,MAAM,KAAK,MAAf,EAAuB;AACrBE,MAAAA,cAAc;AACf;;AACD,QAAIF,MAAM,KAAK,QAAX,IAAuBJ,SAAS,KAAKC,MAAM,CAACC,UAAhD,EAA4D;AAAA;;AAC1D,wBAAAK,aAAa,UAAb,wDAAeC,OAAf;AACAR,MAAAA,SAAS,GAAGC,MAAM,CAACC,UAAnB;AACAI,MAAAA,cAAc;AACd;AACD;AACF,GAXD;AAYD,CAbD;;AAeA,IAAId,MAAJ,EAAY;AACVA,EAAAA,MAAM,CAACa,gBAAP,CAAwB,OAAxB,EAAiC,UAAUI,CAAV,EAAa;AAC5ChB,IAAAA,QAAQ,CAACiB,IAAT,CAAcC,SAAd,CAAwBC,MAAxB,CAA+B,WAA/B;AACAnB,IAAAA,QAAQ,CAACiB,IAAT,CAAcC,SAAd,CAAwBC,MAAxB,CAA+B,QAA/B;;AACA,QAAIpB,MAAM,CAACmB,SAAP,CAAiBE,QAAjB,CAA0B,eAA1B,CAAJ,EAAgD;AAC9CrB,MAAAA,MAAM,CAACmB,SAAP,CAAiBG,GAAjB,CAAqB,eAArB;AACAtB,MAAAA,MAAM,CAACmB,SAAP,CAAiBI,MAAjB,CAAwB,eAAxB;AACAjB,MAAAA,QAAQ,CAACa,SAAT,CAAmBC,MAAnB,CAA0B,iBAA1B;AACD,KAJD,MAIO;AACLpB,MAAAA,MAAM,CAACmB,SAAP,CAAiBG,GAAjB,CAAqB,eAArB;AACAtB,MAAAA,MAAM,CAACmB,SAAP,CAAiBI,MAAjB,CAAwB,eAAxB;AACAjB,MAAAA,QAAQ,CAACa,SAAT,CAAmBC,MAAnB,CAA0B,iBAA1B;AACD;;AACDjB,IAAAA,QAAQ,CAACgB,SAAT,CAAmBC,MAAnB,CAA0B,aAA1B;AACD,GAbD;AAcD;;AAED,IAAId,QAAJ,EAAc;AACZA,EAAAA,QAAQ,CAACO,gBAAT,CAA0B,OAA1B,EAAmC,UAAUI,CAAV,EAAa;AAC9ChB,IAAAA,QAAQ,CAACiB,IAAT,CAAcC,SAAd,CAAwBC,MAAxB,CAA+B,WAA/B;AACAnB,IAAAA,QAAQ,CAACiB,IAAT,CAAcC,SAAd,CAAwBC,MAAxB,CAA+B,QAA/B;;AACA,QAAIpB,MAAM,CAACmB,SAAP,CAAiBE,QAAjB,CAA0B,eAA1B,CAAJ,EAAgD;AAC9CrB,MAAAA,MAAM,CAACmB,SAAP,CAAiBG,GAAjB,CAAqB,eAArB;AACAtB,MAAAA,MAAM,CAACmB,SAAP,CAAiBI,MAAjB,CAAwB,eAAxB;AACAjB,MAAAA,QAAQ,CAACa,SAAT,CAAmBC,MAAnB,CAA0B,iBAA1B;AACD,KAJD,MAIO;AACLpB,MAAAA,MAAM,CAACmB,SAAP,CAAiBG,GAAjB,CAAqB,eAArB;AACAtB,MAAAA,MAAM,CAACmB,SAAP,CAAiBI,MAAjB,CAAwB,eAAxB;AACAjB,MAAAA,QAAQ,CAACa,SAAT,CAAmBC,MAAnB,CAA0B,iBAA1B;AACD;;AACDjB,IAAAA,QAAQ,CAACgB,SAAT,CAAmBC,MAAnB,CAA0B,aAA1B;AACD,GAbD;AAcD;;AAED,IAAIhB,SAAS,CAACoB,MAAd,EAAsB;AACpB,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGrB,SAAS,CAACoB,MAA9B,EAAsC,EAAEC,CAAxC,EAA2C;AACzCrB,IAAAA,SAAS,CAACqB,CAAD,CAAT,CAAaZ,gBAAb,CAA8B,OAA9B,EAAuC,UAAUI,CAAV,EAAa;AAClDhB,MAAAA,QAAQ,CAACiB,IAAT,CAAcC,SAAd,CAAwBI,MAAxB,CAA+B,WAA/B;AACAtB,MAAAA,QAAQ,CAACiB,IAAT,CAAcC,SAAd,CAAwBI,MAAxB,CAA+B,QAA/B;AACAvB,MAAAA,MAAM,CAACmB,SAAP,CAAiBI,MAAjB,CAAwB,eAAxB;AACAvB,MAAAA,MAAM,CAACmB,SAAP,CAAiBG,GAAjB,CAAqB,eAArB;AACAnB,MAAAA,QAAQ,CAACgB,SAAT,CAAmBI,MAAnB,CAA0B,aAA1B;AACAjB,MAAAA,QAAQ,CAACa,SAAT,CAAmBI,MAAnB,CAA0B,iBAA1B;AACD,KAPD;AAQD;AACF,C,CAED;;;AACA,IAAIG,SAAS,GAAG,CACd,qEADc,EAEd,oCAFc,EAGd,mDAHc,EAId,+EAJc,EAKd,8BALc,EAMd,iEANc,EAOd,4DAPc,CAAhB;AAWA,IAAIC,WAAW,GAAG,CAAlB;AACA,IAAIC,aAAa,GAAG,CAApB;AACA,IAAIC,eAAJ;AAEA,IAAMC,eAAe,GAAGC,sBAAsB,CAAC,aAAD,EAAgB,OAAhB,EAAyB;AACrEC,EAAAA,YAAY,EAAE,EADuD;AAErEC,EAAAA,KAAK,EAAE,CAF8D;AAIrE;AACA;AACA;AACA;AACA;AAEAC,EAAAA,QAAQ,EAAE,KAV2D;AAYrEC,EAAAA,UAAU,EAAE;AACVC,IAAAA,EAAE,EAAE,aADM;AAEVC,IAAAA,SAAS,EAAE,IAFD;AAGVC,IAAAA,YAAY,EAAE,sBAAUC,KAAV,EAAiBC,SAAjB,EAA4B;AACxC,aACE,gBACAA,SADA,GAEA,IAFA,GAGA,MAHA,GAIAd,SAAS,CAACa,KAAD,CAJT,GAKA,OALA,GAMA,OAPF;AASD;AAbS,GAZyD;AA4BrEE,EAAAA,EAAE,EAAE;AACFC,IAAAA,SAAS,EAAE,qBAAM;AACf,UAAMC,cAAc,GAAG1C,QAAQ,CAACI,gBAAT,CAA0B,2BAA1B,CAAvB;AACAsC,MAAAA,cAAc,CAAChC,OAAf,CAAuB,UAACiC,GAAD,EAAMC,GAAN,EAAc;AACnCD,QAAAA,GAAG,CAAC/B,gBAAJ,CAAqB,OAArB,EAA8B,YAAM;AAClCiC,UAAAA,kBAAkB,CAACD,GAAD,EAAM,IAAN,CAAlB;AACD,SAFD;AAGD,OAJD;AAKD,KARC;AASFE,IAAAA,iBAAiB,EAAE,2BAACC,MAAD,EAAY;AAC7BC,MAAAA,mBAAmB,CAACD,MAAM,CAACE,WAAR,CAAnB,CAAwCC,IAAxC;AACAF,MAAAA,mBAAmB,CAACD,MAAM,CAACI,aAAR,CAAnB,CAA0CC,IAA1C;AACD;AAZC;AA5BiE,CAAzB,CAA9C;AA4CA,IAAMJ,mBAAmB,GAAG,IAAIK,KAAJ,CAAU5B,SAAS,CAACF,MAApB,EACzB+B,IADyB,CACpB,MADoB,EAEzBC,GAFyB,CAErB,UAACC,IAAD,EAAOZ,GAAP,EAAYa,GAAZ,EAAoB;AACvB,MAAMC,IAAI,GAAGC,SAAS,CAACC,aAAV,CAAwB;AACnCC,IAAAA,SAAS,EAAE7D,QAAQ,CAAC8D,cAAT,WAA2BN,IAA3B,cAAmCZ,GAAG,GAAG,CAAzC,EADwB;AAEnCmB,IAAAA,IAAI,yBAAkBnB,GAAG,GAAG,CAAxB,eAF+B;AAGnCoB,IAAAA,MAAM,EAAE,KAH2B;AAInCC,IAAAA,IAAI,EAAE,KAJ6B;AAKnChC,IAAAA,QAAQ,EAAE;AALyB,GAAxB,CAAb;AAOAyB,EAAAA,IAAI,CAAC9C,gBAAL,CAAsB,WAAtB,EAAmC,YAAM;AACvCc,IAAAA,WAAW,IAAI,CAAf;;AACA,QAAIA,WAAW,KAAK+B,GAAG,CAAClC,MAAxB,EAAgC;AAC9BI,MAAAA,aAAa,GAAGqB,mBAAmB,CAACkB,MAApB,CAA2B,UAACC,IAAD,EAAOC,GAAP,EAAe;AACxDA,QAAAA,GAAG,CAACC,UAAJ,GAAiB,YAAM;AACrBxC,UAAAA,eAAe,CAACyC,SAAhB;AACD,SAFD;;AAGA,eAAQH,IAAI,IAAIC,GAAG,CAACG,WAAJ,EAAhB;AACD,OALe,EAKb,CALa,CAAhB;AAMD;AACF,GAVD;AAWA,SAAOb,IAAP;AACD,CAtByB,CAA5B,C,CAyBA;;AACA,SAAS7C,cAAT,GAA0B;AACxB,MAAM2D,aAAa,GAAGxE,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAtB;AACA,MAAMwE,KAAK,GAAGzE,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAd,CAFwB,CAIxB;AACA;AACA;AACA;;AAEA,MAAI,CAACuE,aAAD,IAAkB,CAACC,KAAvB,EAA8B;AAE9B,MAAMC,WAAW,GAAGF,aAAa,CAACG,qBAAd,EAApB;AACA,MAAMC,KAAK,GAAGF,WAAW,CAACG,GAAZ,GAAkB,GAAhC;AAEA,MAAMC,UAAU,GAAG9E,QAAQ,CAACI,gBAAT,CAA0B,0BAA1B,EAAsD,CAAtD,CAAnB;AACA0E,EAAAA,UAAU,CAAC5D,SAAX,CAAqBG,GAArB,CAAyB,QAAzB;AAEA0D,EAAAA,IAAI,CAACC,MAAL,CACEP,KADF,EAEE;AACEQ,IAAAA,CAAC,EAAE,CADL;AAEEC,IAAAA,CAAC,EAAE,CAACN,KAFN;AAGEO,IAAAA,QAAQ,EAAE;AAHZ,GAFF,EAOE;AACEF,IAAAA,CAAC,EAAE,CADL;AAEEC,IAAAA,CAAC,EAAE,CAFL;AAGEC,IAAAA,QAAQ,EAAE,CAHZ;AAIEC,IAAAA,aAAa,EAAE;AACbC,MAAAA,OAAO,EAAEb,aADI;AAEbc,MAAAA,KAAK,OAFQ;AAGbC,MAAAA,GAAG,UAHU;AAIbC,MAAAA,KAAK,EAAE,CAJM;;AAKb;AACAC,MAAAA,OAAO,EAAE,mBAAM;AACbhB,QAAAA,KAAK,CAACvD,SAAN,CAAgBG,GAAhB,CAAoB,QAApB;AACAyD,QAAAA,UAAU,CAAC5D,SAAX,CAAqBI,MAArB,CAA4B,QAA5B;AACA0B,QAAAA,mBAAmB,CAAC,CAAD,CAAnB,CAAuBE,IAAvB;;AAEA,YAAI,CAACtB,eAAL,EAAsB;AACpBiB,UAAAA,kBAAkB;AACnB;AACF;AAdY;AAJjB,GAPF;AA6BD;;AAED,SAAS6C,UAAT,CAAoBC,QAApB,EAA8BC,KAA9B,EAAqCC,UAArC,EAAiD;AAC/C,MAAIF,QAAQ,IAAIC,KAAhB,EAAuBE,aAAa,CAACD,UAAD,CAAb;AACxB;;AAED,SAAShD,kBAAT,GAAkE;AAAA,MAAtCkD,iBAAsC,uEAAlB,CAAkB;AAAA,MAAfC,KAAe,uEAAP,KAAO;;AAChE,MAAIA,KAAJ,EAAW;AACTF,IAAAA,aAAa,CAAClE,eAAD,CAAb;AACAA,IAAAA,eAAe,GAAG,IAAlB;AACD;;AAED,MAAMqE,WAAW,GAAG,CAApB;AACA,MAAMC,GAAG,GAAG,EAAZ;AACA,MAAMC,UAAU,GAAGxE,aAAa,GAAG,IAAnC;AACA,MAAMyE,UAAU,GAAGD,UAAU,GAAGF,WAAhC;AAEA,MAAMI,aAAa,GAAGD,UAAU,GAAGF,GAAnC;AACA,MAAMI,cAAc,GAAGtG,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAvB;AACA,MAAMsG,UAAU,GAAGvG,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAnB;AACA,MAAI0F,QAAQ,GAAGS,UAAU,IAAIL,iBAAiB,GAAG,CAAxB,CAAV,GAAuCK,UAAtD;;AAGA,MAAI,CAACxE,eAAL,EAAsB;AACpBA,IAAAA,eAAe,GAAG4E,WAAW,CAAC,YAAM;AAClCb,MAAAA,QAAQ,IAAIU,aAAZ;AACA,UAAMI,OAAO,GAAGd,QAAQ,GAAGQ,UAAX,GAAwB,GAAxC;AACA,UAAMO,aAAa,GAAGf,QAAQ,GAAGQ,UAAX,GAAwB,GAA9C;AACAG,MAAAA,cAAc,CAACK,KAAf,CAAqBC,WAArB,CACE,SADF,YAEKH,OAFL;AAIAF,MAAAA,UAAU,CAACI,KAAX,CAAiBE,SAAjB,0CAA6DH,aAA7D;AACAhB,MAAAA,UAAU,CAACC,QAAD,EAAWQ,UAAX,EAAuBvE,eAAvB,CAAV;AACD,KAV4B,EAU1ByE,aAV0B,CAA7B;AAWD;AACF,C,CAED;;;AAEA,SAASvE,sBAAT,CAAgCgF,QAAhC,EAA0CC,KAA1C,EAAiDC,GAAjD,EAAsDC,QAAtD,EAAgE;AAC9D,MAAMC,IAAI,qBACLF,GADK,CAAV;;AAIA,MAAMG,GAAG,GAAG3G,MAAZ;AACA,MAAM4G,cAAc,GAAGpH,QAAQ,CAACC,aAAT,CAAuB6G,QAAvB,CAAvB;AACA,MAAI/D,MAAM,GAAG,IAAIsE,MAAJ,CAAWP,QAAX,EAAqBI,IAArB,CAAb;AAEAnE,EAAAA,MAAM,CAACP,EAAP,CAAU,aAAV,EAAyB,YAAY;AACnC8E,IAAAA,UAAU,CAAC,YAAY;AACrBvE,MAAAA,MAAM,CAACwE,MAAP,CAAcC,UAAd,CAAyBC,cAAzB,GAA0C,KAA1C;AACD,KAFS,EAEP,GAFO,CAAV;AAGD,GAJD;AAKA1E,EAAAA,MAAM,CAACP,EAAP,CAAU,UAAV,EAAsB,YAAY;AAChC8E,IAAAA,UAAU,CAAC,YAAY;AACrBvE,MAAAA,MAAM,CAACwE,MAAP,CAAcC,UAAd,CAAyBC,cAAzB,GAA0C,IAA1C;AACD,KAFS,EAEP,GAFO,CAAV;AAGD,GAJD;AAKA1E,EAAAA,MAAM,CAACP,EAAP,CAAU,gBAAV,EAA4B,YAAY;AACtC8E,IAAAA,UAAU,CAAC,YAAY;AACrBvE,MAAAA,MAAM,CAACwE,MAAP,CAAcC,UAAd,CAAyBC,cAAzB,GAA0C,IAA1C;AACD,KAFS,EAEP,GAFO,CAAV;AAGD,GAJD;;AAMA,MAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB,QAAMC,WAAW,GAAGV,QAAQ,GACxBE,GAAG,CAAC1G,UAAJ,IAAkBsG,KADM,GAExBI,GAAG,CAAC1G,UAAJ,IAAkBsG,KAFtB;;AAGA,QAAIY,WAAJ,EAAiB;AACf,UAAI,EAACP,cAAD,aAACA,cAAD,uBAACA,cAAc,CAAElG,SAAhB,CAA0BE,QAA1B,CAAmC,oBAAnC,CAAD,CAAJ,EAA+D;AAC7D2B,QAAAA,MAAM,GAAG,IAAIsE,MAAJ,CAAWP,QAAX,EAAqBI,IAArB,CAAT;AACD;AACF,KAJD,MAIO,IAAIE,cAAc,CAAClG,SAAf,CAAyBE,QAAzB,CAAkC,oBAAlC,CAAJ,EAA6D;AAClE2B,MAAAA,MAAM,CAAC6E,OAAP;AACD;AACF,GAXD;;AAaA,GAAC,MAAD,EAAS,QAAT,EAAmBlH,OAAnB,CAA2B,UAACmH,GAAD;AAAA,WACzBV,GAAG,CAACvG,gBAAJ,CAAqBiH,GAArB,EAA0BH,UAA1B,EAAsC,KAAtC,CADyB;AAAA,GAA3B;AAIA,SAAO3E,MAAP;AACD","sourcesContent":["const burger = document.querySelector(\".burger\");\r\nconst menuBody = document.querySelector(\".menu-wrap\");\r\nconst linkClose = document.querySelectorAll(\".link-close\");\r\nconst overflow = document.querySelector(\".overflow\");\r\n\r\nconst winTriggersMethods = [\"resize\", \"load\"];\r\nlet prevWidth = window.innerWidth;\r\n\r\nwinTriggersMethods.forEach((method) => {\r\n  window.addEventListener(method, () => {\r\n    // worst case to refresh animation?\r\n    if (method === \"load\") {\r\n      phoneAnimation();\r\n    }\r\n    if (method === \"resize\" && prevWidth !== window.innerWidth) {\r\n      ScrollTrigger?.killAll();\r\n      prevWidth = window.innerWidth;\r\n      phoneAnimation();\r\n      return;\r\n    }\r\n  });\r\n});\r\n\r\nif (burger) {\r\n  burger.addEventListener(\"click\", function (e) {\r\n    document.body.classList.toggle(\"body_lock\");\r\n    document.body.classList.toggle(\"active\");\r\n    if (burger.classList.contains(\"burger_active\")) {\r\n      burger.classList.add(\"burger_finish\");\r\n      burger.classList.remove(\"burger_active\");\r\n      overflow.classList.toggle(\"overflow_active\");\r\n    } else {\r\n      burger.classList.add(\"burger_active\");\r\n      burger.classList.remove(\"burger_finish\");\r\n      overflow.classList.toggle(\"overflow_active\");\r\n    }\r\n    menuBody.classList.toggle(\"menu_active\");\r\n  });\r\n}\r\n\r\nif (overflow) {\r\n  overflow.addEventListener(\"click\", function (e) {\r\n    document.body.classList.toggle(\"body_lock\");\r\n    document.body.classList.toggle(\"active\");\r\n    if (burger.classList.contains(\"burger_active\")) {\r\n      burger.classList.add(\"burger_finish\");\r\n      burger.classList.remove(\"burger_active\");\r\n      overflow.classList.toggle(\"overflow_active\");\r\n    } else {\r\n      burger.classList.add(\"burger_active\");\r\n      burger.classList.remove(\"burger_finish\");\r\n      overflow.classList.toggle(\"overflow_active\");\r\n    }\r\n    menuBody.classList.toggle(\"menu_active\");\r\n  });\r\n}\r\n\r\nif (linkClose.length) {\r\n  for (var i = 0; i < linkClose.length; ++i) {\r\n    linkClose[i].addEventListener(\"click\", function (e) {\r\n      document.body.classList.remove(\"body_lock\");\r\n      document.body.classList.remove(\"active\");\r\n      burger.classList.remove(\"burger_active\");\r\n      burger.classList.add(\"burger_finish\");\r\n      menuBody.classList.remove(\"menu_active\");\r\n      overflow.classList.remove(\"overflow_active\");\r\n    });\r\n  }\r\n}\r\n\r\n// JSON ANIMATION + SWIPER\r\nlet menuSteps = [\r\n  \"Write a detailed description of the design you would like to create\",\r\n  \"Select your desired square footage\",\r\n  \"Choose one interior design style from our catalog\",\r\n  \"As needed, you can upload a reference image directly from your iPhone gallery\",\r\n  \"Just 60 seconds of patienceâ€¦\",\r\n  \"4 results are ready. Edit them or upscale for higher resolution\",\r\n  \"Here's your interior design, delivered in under 90 seconds\",\r\n];\r\n\r\n\r\nlet loadCounter = 0;\r\nlet totalDuration = 0;\r\nlet timerIntervalId;\r\n\r\nconst animPhoneSlider = destroySlidersOnResize(\".stepSlider\", 9999999, {\r\n  spaceBetween: 20,\r\n  speed: 0,\r\n\r\n  // autoplay: {\r\n  //   delay: 3000,\r\n  //   disableOnInteraction: false,\r\n  //   stopOnLastSlide: true,\r\n  // },\r\n\r\n  autoplay: false,\r\n\r\n  pagination: {\r\n    el: \".slider-nav\",\r\n    clickable: true,\r\n    renderBullet: function (index, className) {\r\n      return (\r\n        '<li class=\"' +\r\n        className +\r\n        '\">' +\r\n        \"<h2>\" +\r\n        menuSteps[index] +\r\n        \"</h2>\" +\r\n        \"</li>\"\r\n      );\r\n    },\r\n  },\r\n\r\n  on: {\r\n    afterInit: () => {\r\n      const paginationBtns = document.querySelectorAll('.swiper-pagination-bullet');\r\n      paginationBtns.forEach((btn, ind) => {\r\n        btn.addEventListener('click', () => {\r\n          startProgressTimer(ind, true);\r\n        })\r\n      })\r\n    },\r\n    activeIndexChange: (swiper) => {\r\n      jsonPhoneAnimations[swiper.activeIndex].play();\r\n      jsonPhoneAnimations[swiper.previousIndex].stop();\r\n    },\r\n  },\r\n});\r\n\r\nconst jsonPhoneAnimations = new Array(menuSteps.length)\r\n  .fill(\"step\")\r\n  .map((step, ind, arr) => {\r\n    const anim = bodymovin.loadAnimation({\r\n      container: document.getElementById(`${step}_${ind + 1}`),\r\n      path: `./files/step_${ind + 1}/data.json`,\r\n      render: \"svg\",\r\n      loop: false,\r\n      autoplay: false,\r\n    })\r\n    anim.addEventListener(\"DOMLoaded\", () => {\r\n      loadCounter += 1;\r\n      if (loadCounter === arr.length) {\r\n        totalDuration = jsonPhoneAnimations.reduce((prev, cur) => {\r\n          cur.onComplete = () => {\r\n            animPhoneSlider.slideNext();\r\n          };\r\n          return (prev += cur.getDuration());\r\n        }, 0);\r\n      }\r\n    });\r\n    return anim;\r\n  });\r\n\r\n\r\n// Scroll Trigger phoneAnimation\r\nfunction phoneAnimation() {\r\n  const secondSection = document.querySelector(\".sec-section\");\r\n  const phone = document.querySelector(\".phone-anim\");\r\n\r\n  // if(window.innerWidth < 768) {\r\n  //   phone.classList.add('d-none')\r\n  //   return;\r\n  // };\r\n\r\n  if (!secondSection || !phone) return;\r\n\r\n  const sectionRect = secondSection.getBoundingClientRect();\r\n  const fromY = sectionRect.top + 110;\r\n\r\n  const firstSlide = document.querySelectorAll(\".swiper-slide .json-anim\")[0];\r\n  firstSlide.classList.add(\"hidden\");\r\n\r\n  gsap.fromTo(\r\n    phone,\r\n    {\r\n      x: 0,\r\n      y: -fromY,\r\n      rotation: 5,\r\n    },\r\n    {\r\n      x: 0,\r\n      y: 0,\r\n      rotation: 0,\r\n      scrollTrigger: {\r\n        trigger: secondSection,\r\n        start: `-25`,\r\n        end: `bottom`,\r\n        scrub: 1,\r\n        /* markers: true, */\r\n        onLeave: () => {\r\n          phone.classList.add(\"d-none\");\r\n          firstSlide.classList.remove(\"hidden\");\r\n          jsonPhoneAnimations[0].play();\r\n\r\n          if (!timerIntervalId) {\r\n            startProgressTimer();\r\n          }\r\n        },\r\n      },\r\n    }\r\n  );\r\n}\r\n\r\nfunction checktimer(progress, total, intervalId) {\r\n  if (progress >= total) clearInterval(intervalId);\r\n}\r\n\r\nfunction startProgressTimer(currentSlideIndex = 0, reset = false) {\r\n  if (reset) {\r\n    clearInterval(timerIntervalId);\r\n    timerIntervalId = null;\r\n  }\r\n\r\n  const totalSlides = 7;\r\n  const fps = 16;\r\n  const durationMS = totalDuration * 1000;\r\n  const msPerSlide = durationMS / totalSlides;\r\n\r\n  const intervalTimer = msPerSlide / fps;\r\n  const progressCircle = document.querySelector('.raz');\r\n  const clockArrow = document.querySelector('.clock-arrow');\r\n  let progress = msPerSlide * (currentSlideIndex + 1) - msPerSlide;\r\n\r\n\r\n  if (!timerIntervalId) {\r\n    timerIntervalId = setInterval(() => {\r\n      progress += intervalTimer;\r\n      const percent = progress / durationMS * 100;\r\n      const clockArrowDeg = progress / durationMS * 360;\r\n      progressCircle.style.setProperty(\r\n        \"--pie-p\",\r\n        `${percent}%`\r\n      );\r\n      clockArrow.style.transform = `translate(-50%, -50%) rotate(${clockArrowDeg}deg)`;\r\n      checktimer(progress, durationMS, timerIntervalId)\r\n    }, intervalTimer);\r\n  }\r\n}\r\n\r\n// Swiper:\r\n\r\nfunction destroySlidersOnResize(selector, width, obj, moreThan) {\r\n  const init = {\r\n    ...obj,\r\n  };\r\n\r\n  const win = window;\r\n  const sliderSelector = document.querySelector(selector);\r\n  let swiper = new Swiper(selector, init);\r\n\r\n  swiper.on(\"slideChange\", function () {\r\n    setTimeout(function () {\r\n      swiper.params.mousewheel.releaseOnEdges = false;\r\n    }, 500);\r\n  });\r\n  swiper.on(\"reachEnd\", function () {\r\n    setTimeout(function () {\r\n      swiper.params.mousewheel.releaseOnEdges = true;\r\n    }, 750);\r\n  });\r\n  swiper.on(\"reachBeginning\", function () {\r\n    setTimeout(function () {\r\n      swiper.params.mousewheel.releaseOnEdges = true;\r\n    }, 750);\r\n  });\r\n\r\n  const toggleInit = () => {\r\n    const neededWidth = moreThan\r\n      ? win.innerWidth >= width\r\n      : win.innerWidth <= width;\r\n    if (neededWidth) {\r\n      if (!sliderSelector?.classList.contains(\"swiper-initialized\")) {\r\n        swiper = new Swiper(selector, init);\r\n      }\r\n    } else if (sliderSelector.classList.contains(\"swiper-initialized\")) {\r\n      swiper.destroy();\r\n    }\r\n  };\r\n\r\n  [\"load\", \"resize\"].forEach((evt) =>\r\n    win.addEventListener(evt, toggleInit, false)\r\n  );\r\n\r\n  return swiper;\r\n}"],"file":"main.js"}