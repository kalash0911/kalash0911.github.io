{"version":3,"file":"indise_script.js","names":["WOW","init","initSwiperImg","slider","Swiper","speed","grabCursor","loop","autoplay","spaceBetween","centeredSlides","slidesPerView","breakpoints","menuSteps","loadCounter","totalDuration","timerIntervalId","animPhoneSlider","destroySlidersOnResize","pagination","el","clickable","renderBullet","index","className","on","afterInit","paginationBtns","document","querySelectorAll","forEach","btn","ind","addEventListener","startProgressTimer","activeIndexChange","swiper","jsonPhoneAnimations","activeIndex","play","previousIndex","stop","Array","length","fill","map","step","arr","anim","bodymovin","loadAnimation","container","getElementById","concat","path","render","reduce","prev","cur","onComplete","slideNext","getDuration","checktimer","progress","total","intervalId","clearInterval","currentSlideIndex","arguments","undefined","reset","totalSlides","fps","durationMS","msPerSlide","intervalTimer","progressCircle","querySelector","clockArrow","setInterval","totalTime","percent","clockArrowDeg","style","setProperty","transform","selector","width","obj","moreThan","_objectSpread","win","window","sliderSelector","setTimeout","params","mousewheel","releaseOnEdges","toggleInit","neededWidth","innerWidth","classList","contains","destroy","evt","indiseIntersectionObs","callback","entries","observer","entry","isIntersecting","createObserver","target","options","root","threshold","IntersectionObserver","observe"],"sources":["indise_script.js"],"sourcesContent":["new WOW().init();\n\ninitSwiperImg();\n\nfunction initSwiperImg() {\n    const slider = new Swiper(\".swiper_indise\", {\n        speed: 1400,\n        grabCursor: true,\n        loop: true,\n        autoplay: true,\n        spaceBetween: 20,\n        centeredSlides: true,\n        slidesPerView: 3.5,\n        breakpoints: {\n            320: {\n                slidesPerView: 1,\n            },\n            480: {\n                slidesPerView: 1.5,\n            },\n            768: {\n                slidesPerView: 2,\n            },\n            1024: {\n                slidesPerView: 3.5,\n            },\n            1444: {\n                slidesPerView: 4,\n            },\n            1920: {\n                slidesPerView: 5,\n            },\n        },\n    });\n}\n\n// JSON ANIMATION + SWIPER\nlet menuSteps = [\n    \"Write a detailed description of the design you would like to create\",\n    \"Select your desired square footage\",\n    \"Choose one interior design style from our catalog\",\n    \"As needed, you can upload a reference image directly from your iPhone gallery\",\n    \"Just 60 seconds of patienceâ€¦\",\n    \"4 results are ready. Edit them or upscale for higher resolution\",\n    \"Here's your interior design, delivered in under 90 seconds\",\n];\n\nlet loadCounter = 0;\nlet totalDuration = 0;\nlet timerIntervalId;\n\nconst animPhoneSlider = destroySlidersOnResize(\".stepSlider\", 9999999, {\n    spaceBetween: 20,\n    speed: 0,\n\n    // autoplay: {\n    //   delay: 3000,\n    //   disableOnInteraction: false,\n    //   stopOnLastSlide: true,\n    // },\n\n    autoplay: false,\n\n    pagination: {\n        el: \".slider-nav\",\n        clickable: true,\n        renderBullet: function (index, className) {\n            return (\n                '<li class=\"' +\n                className +\n                '\">' +\n                \"<h2>\" +\n                menuSteps[index] +\n                \"</h2>\" +\n                \"</li>\"\n            );\n        },\n    },\n\n    on: {\n        afterInit: () => {\n            const paginationBtns = document.querySelectorAll(\n                \".swiper-pagination-bullet\"\n            );\n            paginationBtns.forEach((btn, ind) => {\n                btn.addEventListener(\"click\", () => {\n                    startProgressTimer(ind, true);\n                });\n            });\n        },\n        activeIndexChange: (swiper) => {\n            jsonPhoneAnimations[swiper.activeIndex].play();\n            jsonPhoneAnimations[swiper.previousIndex].stop();\n        },\n    },\n});\n\nconst jsonPhoneAnimations = new Array(menuSteps.length)\n    .fill(\"step\")\n    .map((step, ind, arr) => {\n        const anim = bodymovin.loadAnimation({\n            container: document.getElementById(`${step}_${ind + 1}`),\n            path: `files/step_${ind + 1}/data.json`,\n            render: \"svg\",\n            loop: false,\n            autoplay: false,\n        });\n        anim.addEventListener(\"DOMLoaded\", () => {\n            loadCounter += 1;\n            if (loadCounter === arr.length) {\n                totalDuration = jsonPhoneAnimations.reduce((prev, cur) => {\n                    cur.onComplete = () => {\n                        animPhoneSlider.slideNext();\n                    };\n                    return (prev += cur.getDuration());\n                }, 0);\n            }\n        });\n        return anim;\n    });\n\nfunction checktimer(progress, total, intervalId) {\n    if (progress >= total) clearInterval(intervalId);\n}\n\n\nfunction startProgressTimer(currentSlideIndex = 0, reset = false) {\n    if (reset) {\n        clearInterval(timerIntervalId);\n        timerIntervalId = null;\n    }\n\n    const totalSlides = 7;\n    const fps = 16;\n    const durationMS = totalDuration * 1000;\n    const msPerSlide = durationMS / totalSlides;\n\n    const intervalTimer = msPerSlide / fps;\n    const progressCircle = document.querySelector(\".raz\");\n    const clockArrow = document.querySelector(\".clock-arrow\");\n    let progress = msPerSlide * (currentSlideIndex + 1) - msPerSlide;\n\n    if (!timerIntervalId) {\n        timerIntervalId = setInterval(() => {\n\n            const totalTime = (progress / durationMS) || 0;\n\n            progress += intervalTimer;\n            const percent = totalTime * 100;\n            const clockArrowDeg = totalTime * 360;\n            progressCircle.style.setProperty(\"--pie-p\", `${percent}%`);\n            clockArrow.style.transform = `translate(-50%, -50%) rotate(${clockArrowDeg}deg)`;\n            checktimer(progress, durationMS, timerIntervalId);\n        }, intervalTimer);\n    }\n}\n\n// Swiper:\n\nfunction destroySlidersOnResize(selector, width, obj, moreThan) {\n    const init = {\n        ...obj,\n    };\n\n    const win = window;\n    const sliderSelector = document.querySelector(selector);\n    let swiper = new Swiper(selector, init);\n\n    swiper.on(\"slideChange\", function () {\n        setTimeout(function () {\n            swiper.params.mousewheel.releaseOnEdges = false;\n        }, 500);\n    });\n    swiper.on(\"reachEnd\", function () {\n        setTimeout(function () {\n            swiper.params.mousewheel.releaseOnEdges = true;\n        }, 750);\n    });\n    swiper.on(\"reachBeginning\", function () {\n        setTimeout(function () {\n            swiper.params.mousewheel.releaseOnEdges = true;\n        }, 750);\n    });\n\n    const toggleInit = () => {\n        const neededWidth = moreThan\n            ? win.innerWidth >= width\n            : win.innerWidth <= width;\n        if (neededWidth) {\n            if (!sliderSelector?.classList.contains(\"swiper-initialized\")) {\n                swiper = new Swiper(selector, init);\n            }\n        } else if (sliderSelector.classList.contains(\"swiper-initialized\")) {\n            swiper.destroy();\n        }\n    };\n\n    [\"load\", \"resize\"].forEach((evt) =>\n        win.addEventListener(evt, toggleInit, false)\n    );\n\n    return swiper;\n}\n\nconst indiseIntersectionObs = document.querySelector(\".indise_slider_section\");\nfunction callback(entries, observer) {\n    entries.forEach((entry) => {\n        if(entry.isIntersecting){\n            jsonPhoneAnimations[0].play();\n            startProgressTimer();\n        }\n    });\n}\n\nfunction createObserver(target, callback) {\n    const options = {\n        root: null,\n        threshold: 0.5,\n    };\n    const observer = new IntersectionObserver(callback, options);\n    observer.observe(target);\n}\n\ncreateObserver(indiseIntersectionObs, callback);"],"mappings":"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"}