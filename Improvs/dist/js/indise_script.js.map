{"version":3,"sources":["indise_script.js"],"names":["initSwiperImg","slider","Swiper","speed","grabCursor","loop","autoplay","spaceBetween","centeredSlides","slidesPerView","breakpoints","menuSteps","loadCounter","totalDuration","timerIntervalId","animPhoneSlider","destroySlidersOnResize","pagination","el","clickable","renderBullet","index","className","on","afterInit","paginationBtns","document","querySelectorAll","forEach","btn","ind","addEventListener","startProgressTimer","activeIndexChange","swiper","jsonPhoneAnimations","activeIndex","play","previousIndex","stop","Array","length","fill","map","step","arr","anim","bodymovin","loadAnimation","container","getElementById","path","render","reduce","prev","cur","onComplete","slideNext","getDuration","checktimer","progress","total","intervalId","clearInterval","currentSlideIndex","reset","totalSlides","fps","durationMS","msPerSlide","intervalTimer","progressCircle","querySelector","clockArrow","setInterval","percent","clockArrowDeg","style","setProperty","transform","selector","width","obj","moreThan","init","win","window","sliderSelector","setTimeout","params","mousewheel","releaseOnEdges","toggleInit","neededWidth","innerWidth","classList","contains","destroy","evt","indiseIntersectionObs","callback","entries","observer","entry","createObserver","target","options","root","threshold","IntersectionObserver","observe"],"mappings":"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","sourcesContent":["initSwiperImg();\n\nfunction initSwiperImg() {\n    const slider = new Swiper(\".swiper_indise\", {\n        speed: 1400,\n        grabCursor: true,\n        loop: true,\n        autoplay: true,\n        spaceBetween: 20,\n        centeredSlides: true,\n        slidesPerView: 3.5,\n        breakpoints: {\n            320: {\n                slidesPerView: 1,\n            },\n            480: {\n                slidesPerView: 1.5,\n            },\n            768: {\n                slidesPerView: 2,\n            },\n            1024: {\n                slidesPerView: 3.5,\n            },\n            1444: {\n                slidesPerView: 4,\n            },\n            1920: {\n                slidesPerView: 5,\n            },\n        },\n    });\n}\n\n// JSON ANIMATION + SWIPER\nlet menuSteps = [\n    \"Write a detailed description of the design you would like to create\",\n    \"Select your desired square footage\",\n    \"Choose one interior design style from our catalog\",\n    \"As needed, you can upload a reference image directly from your iPhone gallery\",\n    \"Just 60 seconds of patienceâ€¦\",\n    \"4 results are ready. Edit them or upscale for higher resolution\",\n    \"Here's your interior design, delivered in under 90 seconds\",\n];\n\nlet loadCounter = 0;\nlet totalDuration = 0;\nlet timerIntervalId;\n\nconst animPhoneSlider = destroySlidersOnResize(\".stepSlider\", 9999999, {\n    spaceBetween: 20,\n    speed: 0,\n\n    // autoplay: {\n    //   delay: 3000,\n    //   disableOnInteraction: false,\n    //   stopOnLastSlide: true,\n    // },\n\n    autoplay: false,\n\n    pagination: {\n        el: \".slider-nav\",\n        clickable: true,\n        renderBullet: function (index, className) {\n            return (\n                '<li class=\"' +\n                className +\n                '\">' +\n                \"<h2>\" +\n                menuSteps[index] +\n                \"</h2>\" +\n                \"</li>\"\n            );\n        },\n    },\n\n    on: {\n        afterInit: () => {\n            const paginationBtns = document.querySelectorAll(\n                \".swiper-pagination-bullet\"\n            );\n            paginationBtns.forEach((btn, ind) => {\n                btn.addEventListener(\"click\", () => {\n                    startProgressTimer(ind, true);\n                });\n            });\n        },\n        activeIndexChange: (swiper) => {\n            jsonPhoneAnimations[swiper.activeIndex].play();\n            jsonPhoneAnimations[swiper.previousIndex].stop();\n        },\n    },\n});\n\nconst jsonPhoneAnimations = new Array(menuSteps.length)\n    .fill(\"step\")\n    .map((step, ind, arr) => {\n        const anim = bodymovin.loadAnimation({\n            container: document.getElementById(`${step}_${ind + 1}`),\n            path: `../files/step_${ind + 1}/data.json`,\n            render: \"svg\",\n            loop: false,\n            autoplay: false,\n        });\n        anim.addEventListener(\"DOMLoaded\", () => {\n            loadCounter += 1;\n            if (loadCounter === arr.length) {\n                totalDuration = jsonPhoneAnimations.reduce((prev, cur) => {\n                    cur.onComplete = () => {\n                        animPhoneSlider.slideNext();\n                    };\n                    return (prev += cur.getDuration());\n                }, 0);\n            }\n        });\n        return anim;\n    });\n\nfunction checktimer(progress, total, intervalId) {\n    if (progress >= total) clearInterval(intervalId);\n}\n\nfunction startProgressTimer(currentSlideIndex = 0, reset = false) {\n    if (reset) {\n        clearInterval(timerIntervalId);\n        timerIntervalId = null;\n    }\n\n    const totalSlides = 7;\n    const fps = 16;\n    const durationMS = totalDuration * 1000;\n    const msPerSlide = durationMS / totalSlides;\n   \n    const intervalTimer = msPerSlide / fps;\n    const progressCircle = document.querySelector(\".raz\");\n    const clockArrow = document.querySelector(\".clock-arrow\");\n    let progress = msPerSlide * (currentSlideIndex + 1) - msPerSlide;\n\n    if (!timerIntervalId) {\n        timerIntervalId = setInterval(() => {\n            progress += intervalTimer;\n            const percent = (progress / durationMS) * 100;\n            const clockArrowDeg = (progress / durationMS) * 360;\n            progressCircle.style.setProperty(\"--pie-p\", `${percent}%`);\n            clockArrow.style.transform = `translate(-50%, -50%) rotate(${clockArrowDeg}deg)`;\n            checktimer(progress, durationMS, timerIntervalId);\n        }, intervalTimer);\n    }\n}\n\n// Swiper:\n\nfunction destroySlidersOnResize(selector, width, obj, moreThan) {\n    const init = {\n        ...obj,\n    };\n\n    const win = window;\n    const sliderSelector = document.querySelector(selector);\n    let swiper = new Swiper(selector, init);\n\n    swiper.on(\"slideChange\", function () {\n        setTimeout(function () {\n            swiper.params.mousewheel.releaseOnEdges = false;\n        }, 500);\n    });\n    swiper.on(\"reachEnd\", function () {\n        setTimeout(function () {\n            swiper.params.mousewheel.releaseOnEdges = true;\n        }, 750);\n    });\n    swiper.on(\"reachBeginning\", function () {\n        setTimeout(function () {\n            swiper.params.mousewheel.releaseOnEdges = true;\n        }, 750);\n    });\n\n    const toggleInit = () => {\n        const neededWidth = moreThan\n            ? win.innerWidth >= width\n            : win.innerWidth <= width;\n        if (neededWidth) {\n            if (!sliderSelector?.classList.contains(\"swiper-initialized\")) {\n                swiper = new Swiper(selector, init);\n            }\n        } else if (sliderSelector.classList.contains(\"swiper-initialized\")) {\n            swiper.destroy();\n        }\n    };\n\n    [\"load\", \"resize\"].forEach((evt) =>\n        win.addEventListener(evt, toggleInit, false)\n    );\n\n    return swiper;\n}\n\nconst indiseIntersectionObs = document.querySelector(\".indise_slider_section\");\nfunction callback(entries, observer) {\n    entries.forEach((entry) => {\n        jsonPhoneAnimations[0].play();\n        startProgressTimer();\n    });\n}\nfunction createObserver(target, callback) {\n    const options = {\n        root: null,\n        threshold: 0.5,\n    };\n    const observer = new IntersectionObserver(callback, options);\n    observer.observe(target);\n}\n\ncreateObserver(indiseIntersectionObs, callback);"],"file":"indise_script.js"}