{"version":3,"sources":["indise_script.js"],"names":["WOW","init","initSwiperImg","slider","Swiper","speed","grabCursor","loop","autoplay","spaceBetween","centeredSlides","slidesPerView","breakpoints","menuSteps","loadCounter","totalDuration","timerIntervalId","animPhoneSlider","destroySlidersOnResize","pagination","el","clickable","renderBullet","index","className","on","afterInit","paginationBtns","document","querySelectorAll","forEach","btn","ind","addEventListener","startProgressTimer","activeIndexChange","swiper","jsonPhoneAnimations","activeIndex","play","previousIndex","stop","Array","length","fill","map","step","arr","anim","bodymovin","loadAnimation","container","getElementById","path","render","reduce","prev","cur","onComplete","slideNext","getDuration","console","log","checktimer","progress","total","intervalId","clearInterval","currentSlideIndex","reset","totalSlides","fps","durationMS","msPerSlide","intervalTimer","progressCircle","querySelector","clockArrow","setInterval","totalTime","percent","clockArrowDeg","style","setProperty","transform","selector","width","obj","moreThan","win","window","sliderSelector","setTimeout","params","mousewheel","releaseOnEdges","toggleInit","neededWidth","innerWidth","classList","contains","destroy","evt","indiseIntersectionObs","callback","entries","observer","entry","isIntersecting","createObserver","target","options","root","threshold","IntersectionObserver","observe"],"mappings":"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","sourcesContent":["new WOW().init();\r\n\r\ninitSwiperImg();\r\n\r\nfunction initSwiperImg() {\r\n    const slider = new Swiper(\".swiper_indise\", {\r\n        speed: 1400,\r\n        grabCursor: true,\r\n        loop: true,\r\n        autoplay: true,\r\n        spaceBetween: 20,\r\n        centeredSlides: true,\r\n        slidesPerView: 3.5,\r\n        breakpoints: {\r\n            320: {\r\n                slidesPerView: 1,\r\n            },\r\n            480: {\r\n                slidesPerView: 1.5,\r\n            },\r\n            768: {\r\n                slidesPerView: 2,\r\n            },\r\n            1024: {\r\n                slidesPerView: 3.5,\r\n            },\r\n            1444: {\r\n                slidesPerView: 4,\r\n            },\r\n            1920: {\r\n                slidesPerView: 5,\r\n            },\r\n        },\r\n    });\r\n}\r\n\r\n// JSON ANIMATION + SWIPER\r\nlet menuSteps = [\r\n    \"Write a detailed description of the design you would like to create\",\r\n    \"Select your desired square footage\",\r\n    \"Choose one interior design style from our catalog\",\r\n    \"As needed, you can upload a reference image directly from your iPhone gallery\",\r\n    \"Just 60 seconds of patienceâ€¦\",\r\n    \"4 results are ready. Edit them or upscale for higher resolution\",\r\n    \"Here's your interior design, delivered in under 90 seconds\",\r\n];\r\n\r\nlet loadCounter = 0;\r\nlet totalDuration = 0;\r\nlet timerIntervalId;\r\n\r\nconst animPhoneSlider = destroySlidersOnResize(\".stepSlider\", 9999999, {\r\n    spaceBetween: 20,\r\n    speed: 0,\r\n\r\n    // autoplay: {\r\n    //   delay: 3000,\r\n    //   disableOnInteraction: false,\r\n    //   stopOnLastSlide: true,\r\n    // },\r\n\r\n    autoplay: false,\r\n\r\n    pagination: {\r\n        el: \".slider-nav\",\r\n        clickable: true,\r\n        renderBullet: function (index, className) {\r\n            return (\r\n                '<li class=\"' +\r\n                className +\r\n                '\">' +\r\n                \"<h2>\" +\r\n                menuSteps[index] +\r\n                \"</h2>\" +\r\n                \"</li>\"\r\n            );\r\n        },\r\n    },\r\n\r\n    on: {\r\n        afterInit: () => {\r\n            const paginationBtns = document.querySelectorAll(\r\n                \".swiper-pagination-bullet\"\r\n            );\r\n            paginationBtns.forEach((btn, ind) => {\r\n                btn.addEventListener(\"click\", () => {\r\n                    startProgressTimer(ind, true);\r\n                });\r\n            });\r\n        },\r\n        activeIndexChange: (swiper) => {\r\n            jsonPhoneAnimations[swiper.activeIndex].play();\r\n            jsonPhoneAnimations[swiper.previousIndex].stop();\r\n        },\r\n    },\r\n});\r\n\r\nconst jsonPhoneAnimations = new Array(menuSteps.length)\r\n    .fill(\"step\")\r\n    .map((step, ind, arr) => {\r\n        const anim = bodymovin.loadAnimation({\r\n            container: document.getElementById(`${step}_${ind + 1}`),\r\n            path: `files/step_${ind + 1}/data.json`,\r\n            render: \"svg\",\r\n            loop: false,\r\n            autoplay: false,\r\n        });\r\n        anim.addEventListener(\"DOMLoaded\", () => {\r\n            loadCounter += 1;\r\n            if (loadCounter === arr.length) {\r\n                totalDuration = jsonPhoneAnimations.reduce((prev, cur) => {\r\n                    cur.onComplete = () => {\r\n                        animPhoneSlider.slideNext();\r\n                    };\r\n                    return (prev += cur.getDuration());\r\n                }, 0);\r\n                console.log(totalDuration)\r\n            }\r\n        });\r\n        return anim;\r\n    });\r\n\r\nfunction checktimer(progress, total, intervalId) {\r\n    if (progress >= total) clearInterval(intervalId);\r\n}\r\n\r\n\r\nfunction startProgressTimer(currentSlideIndex = 0, reset = false) {\r\n    if (reset) {\r\n        clearInterval(timerIntervalId);\r\n        timerIntervalId = null;\r\n    }\r\n\r\n    const totalSlides = 7;\r\n    const fps = 16;\r\n    const durationMS = totalDuration * 1000;\r\n    console.log(durationMS)\r\n    const msPerSlide = durationMS / totalSlides;\r\n    console.log(msPerSlide)\r\n\r\n    const intervalTimer = msPerSlide / fps;\r\n    const progressCircle = document.querySelector(\".raz\");\r\n    const clockArrow = document.querySelector(\".clock-arrow\");\r\n    let progress = msPerSlide * (currentSlideIndex + 1) - msPerSlide;\r\n\r\n    if (!timerIntervalId) {\r\n        timerIntervalId = setInterval(() => {\r\n\r\n            const totalTime = (progress / durationMS) || 0;\r\n\r\n            progress += intervalTimer;\r\n            const percent = totalTime * 100;\r\n            const clockArrowDeg = totalTime * 360;\r\n            progressCircle.style.setProperty(\"--pie-p\", `${percent}%`);\r\n            clockArrow.style.transform = `translate(-50%, -50%) rotate(${clockArrowDeg}deg)`;\r\n            checktimer(progress, durationMS, timerIntervalId);\r\n            console.log(percent)\r\n            console.log(clockArrowDeg)\r\n        }, intervalTimer);\r\n    }\r\n}\r\n\r\n// Swiper:\r\n\r\nfunction destroySlidersOnResize(selector, width, obj, moreThan) {\r\n    const init = {\r\n        ...obj,\r\n    };\r\n\r\n    const win = window;\r\n    const sliderSelector = document.querySelector(selector);\r\n    let swiper = new Swiper(selector, init);\r\n\r\n    swiper.on(\"slideChange\", function () {\r\n        setTimeout(function () {\r\n            swiper.params.mousewheel.releaseOnEdges = false;\r\n        }, 500);\r\n    });\r\n    swiper.on(\"reachEnd\", function () {\r\n        setTimeout(function () {\r\n            swiper.params.mousewheel.releaseOnEdges = true;\r\n        }, 750);\r\n    });\r\n    swiper.on(\"reachBeginning\", function () {\r\n        setTimeout(function () {\r\n            swiper.params.mousewheel.releaseOnEdges = true;\r\n        }, 750);\r\n    });\r\n\r\n    const toggleInit = () => {\r\n        const neededWidth = moreThan\r\n            ? win.innerWidth >= width\r\n            : win.innerWidth <= width;\r\n        if (neededWidth) {\r\n            if (!sliderSelector?.classList.contains(\"swiper-initialized\")) {\r\n                swiper = new Swiper(selector, init);\r\n            }\r\n        } else if (sliderSelector.classList.contains(\"swiper-initialized\")) {\r\n            swiper.destroy();\r\n        }\r\n    };\r\n\r\n    [\"load\", \"resize\"].forEach((evt) =>\r\n        win.addEventListener(evt, toggleInit, false)\r\n    );\r\n\r\n    return swiper;\r\n}\r\n\r\nconst indiseIntersectionObs = document.querySelector(\".indise_slider_section\");\r\nfunction callback(entries, observer) {\r\n    entries.forEach((entry) => {\r\n        if(entry.isIntersecting){\r\n            jsonPhoneAnimations[0].play();\r\n            startProgressTimer();\r\n        }\r\n    });\r\n}\r\n\r\nfunction createObserver(target, callback) {\r\n    const options = {\r\n        root: null,\r\n        threshold: 0.5,\r\n    };\r\n    const observer = new IntersectionObserver(callback, options);\r\n    observer.observe(target);\r\n}\r\n\r\ncreateObserver(indiseIntersectionObs, callback);"],"file":"indise_script.js"}