{"version":3,"file":"indise_script.js","names":["initSwiperImg","slider","Swiper","speed","grabCursor","loop","autoplay","spaceBetween","centeredSlides","slidesPerView","breakpoints","menuSteps","loadCounter","totalDuration","timerIntervalId","animPhoneSlider","destroySlidersOnResize","pagination","el","clickable","renderBullet","index","className","on","afterInit","paginationBtns","document","querySelectorAll","forEach","btn","ind","addEventListener","startProgressTimer","activeIndexChange","swiper","jsonPhoneAnimations","activeIndex","play","previousIndex","stop","Array","length","fill","map","step","arr","anim","bodymovin","loadAnimation","container","getElementById","concat","path","render","reduce","prev","cur","onComplete","slideNext","getDuration","checktimer","progress","total","intervalId","clearInterval","currentSlideIndex","arguments","undefined","reset","totalSlides","fps","durationMS","msPerSlide","intervalTimer","progressCircle","querySelector","clockArrow","setInterval","percent","clockArrowDeg","style","setProperty","transform","selector","width","obj","moreThan","init","_objectSpread","win","window","sliderSelector","setTimeout","params","mousewheel","releaseOnEdges","toggleInit","neededWidth","innerWidth","classList","contains","destroy","evt","indiseIntersectionObs","callback","entries","observer","entry","createObserver","target","options","root","threshold","IntersectionObserver","observe"],"sources":["indise_script.js"],"sourcesContent":["\r\ninitSwiperImg();\r\n\r\nfunction initSwiperImg() {\r\n    const slider = new Swiper(\".swiper_indise\", {\r\n        speed: 1400,\r\n        grabCursor: true,\r\n        loop: true,\r\n        autoplay: true,\r\n        spaceBetween: 20,\r\n        centeredSlides: true,\r\n        slidesPerView: 3.5,\r\n        breakpoints: {\r\n            320: {\r\n                slidesPerView: 1,\r\n            },\r\n            480: {\r\n                slidesPerView: 1.5,\r\n            },\r\n            768: {\r\n                slidesPerView: 2,\r\n            },\r\n            1024: {\r\n                slidesPerView: 3.5,\r\n            },\r\n            1444: {\r\n                slidesPerView: 4,\r\n            },\r\n            1920: {\r\n                slidesPerView: 5,\r\n            },\r\n        },\r\n    });\r\n}\r\n\r\n// JSON ANIMATION + SWIPER\r\nlet menuSteps = [\r\n    \"Write a detailed description of the design you would like to create\",\r\n    \"Select your desired square footage\",\r\n    \"Choose one interior design style from our catalog\",\r\n    \"As needed, you can upload a reference image directly from your iPhone gallery\",\r\n    \"Just 60 seconds of patienceâ€¦\",\r\n    \"4 results are ready. Edit them or upscale for higher resolution\",\r\n    \"Here's your interior design, delivered in under 90 seconds\",\r\n];\r\n\r\nlet loadCounter = 0;\r\nlet totalDuration = 0;\r\nlet timerIntervalId;\r\n\r\nconst animPhoneSlider = destroySlidersOnResize(\".stepSlider\", 9999999, {\r\n    spaceBetween: 20,\r\n    speed: 0,\r\n\r\n    // autoplay: {\r\n    //   delay: 3000,\r\n    //   disableOnInteraction: false,\r\n    //   stopOnLastSlide: true,\r\n    // },\r\n\r\n    autoplay: false,\r\n\r\n    pagination: {\r\n        el: \".slider-nav\",\r\n        clickable: true,\r\n        renderBullet: function (index, className) {\r\n            return (\r\n                '<li class=\"' +\r\n                className +\r\n                '\">' +\r\n                \"<h2>\" +\r\n                menuSteps[index] +\r\n                \"</h2>\" +\r\n                \"</li>\"\r\n            );\r\n        },\r\n    },\r\n\r\n    on: {\r\n        afterInit: () => {\r\n            const paginationBtns = document.querySelectorAll(\r\n                \".swiper-pagination-bullet\"\r\n            );\r\n            paginationBtns.forEach((btn, ind) => {\r\n                btn.addEventListener(\"click\", () => {\r\n                    startProgressTimer(ind, true);\r\n                });\r\n            });\r\n        },\r\n        activeIndexChange: (swiper) => {\r\n            jsonPhoneAnimations[swiper.activeIndex].play();\r\n            jsonPhoneAnimations[swiper.previousIndex].stop();\r\n        },\r\n    },\r\n});\r\n\r\nconst jsonPhoneAnimations = new Array(menuSteps.length)\r\n    .fill(\"step\")\r\n    .map((step, ind, arr) => {\r\n        const anim = bodymovin.loadAnimation({\r\n            container: document.getElementById(`${step}_${ind + 1}`),\r\n            path: `../files/step_${ind + 1}/data.json`,\r\n            render: \"svg\",\r\n            loop: false,\r\n            autoplay: false,\r\n        });\r\n        anim.addEventListener(\"DOMLoaded\", () => {\r\n            loadCounter += 1;\r\n            if (loadCounter === arr.length) {\r\n                totalDuration = jsonPhoneAnimations.reduce((prev, cur) => {\r\n                    cur.onComplete = () => {\r\n                        animPhoneSlider.slideNext();\r\n                    };\r\n                    return (prev += cur.getDuration());\r\n                }, 0);\r\n            }\r\n        });\r\n        return anim;\r\n    });\r\n\r\nfunction checktimer(progress, total, intervalId) {\r\n    if (progress >= total) clearInterval(intervalId);\r\n}\r\n\r\nfunction startProgressTimer(currentSlideIndex = 0, reset = false) {\r\n    if (reset) {\r\n        clearInterval(timerIntervalId);\r\n        timerIntervalId = null;\r\n    }\r\n\r\n    const totalSlides = 7;\r\n    const fps = 16;\r\n    const durationMS = totalDuration * 1000;\r\n    const msPerSlide = durationMS / totalSlides;\r\n\r\n    const intervalTimer = msPerSlide / fps;\r\n    const progressCircle = document.querySelector(\".raz\");\r\n    const clockArrow = document.querySelector(\".clock-arrow\");\r\n    let progress = msPerSlide * (currentSlideIndex + 1) - msPerSlide;\r\n\r\n    if (!timerIntervalId) {\r\n        timerIntervalId = setInterval(() => {\r\n            progress += intervalTimer;\r\n            const percent = (progress / durationMS) * 100;\r\n            const clockArrowDeg = (progress / durationMS) * 360;\r\n            progressCircle.style.setProperty(\"--pie-p\", `${percent}%`);\r\n            clockArrow.style.transform = `translate(-50%, -50%) rotate(${clockArrowDeg}deg)`;\r\n            checktimer(progress, durationMS, timerIntervalId);\r\n        }, intervalTimer);\r\n    }\r\n}\r\n\r\n// Swiper:\r\n\r\nfunction destroySlidersOnResize(selector, width, obj, moreThan) {\r\n    const init = {\r\n        ...obj,\r\n    };\r\n\r\n    const win = window;\r\n    const sliderSelector = document.querySelector(selector);\r\n    let swiper = new Swiper(selector, init);\r\n\r\n    swiper.on(\"slideChange\", function () {\r\n        setTimeout(function () {\r\n            swiper.params.mousewheel.releaseOnEdges = false;\r\n        }, 500);\r\n    });\r\n    swiper.on(\"reachEnd\", function () {\r\n        setTimeout(function () {\r\n            swiper.params.mousewheel.releaseOnEdges = true;\r\n        }, 750);\r\n    });\r\n    swiper.on(\"reachBeginning\", function () {\r\n        setTimeout(function () {\r\n            swiper.params.mousewheel.releaseOnEdges = true;\r\n        }, 750);\r\n    });\r\n\r\n    const toggleInit = () => {\r\n        const neededWidth = moreThan\r\n            ? win.innerWidth >= width\r\n            : win.innerWidth <= width;\r\n        if (neededWidth) {\r\n            if (!sliderSelector?.classList.contains(\"swiper-initialized\")) {\r\n                swiper = new Swiper(selector, init);\r\n            }\r\n        } else if (sliderSelector.classList.contains(\"swiper-initialized\")) {\r\n            swiper.destroy();\r\n        }\r\n    };\r\n\r\n    [\"load\", \"resize\"].forEach((evt) =>\r\n        win.addEventListener(evt, toggleInit, false)\r\n    );\r\n\r\n    return swiper;\r\n}\r\n\r\nconst indiseIntersectionObs = document.querySelector(\".indise_slider_section\");\r\nfunction callback(entries, observer) {\r\n    entries.forEach((entry) => {\r\n        jsonPhoneAnimations[0].play();\r\n        startProgressTimer();\r\n    });\r\n}\r\nfunction createObserver(target, callback) {\r\n    const options = {\r\n        root: null,\r\n        threshold: 0.5,\r\n    };\r\n    const observer = new IntersectionObserver(callback, options);\r\n    observer.observe(target);\r\n}\r\n\r\ncreateObserver(indiseIntersectionObs, callback);"],"mappings":"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"}