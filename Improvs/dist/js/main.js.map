{"version":3,"file":"main.js","names":["WOW","init","menuItems","document","querySelectorAll","videos","first_main_video","querySelector","second_main_video","changeMainVideo","addEventListener","e","isMobile","currentIndex","getSectionState","fullpage_api","moveSectionDown","classList","add","remove","play","index","length","video","fullpage","navigation","scrollingSpeed","resetSliders","anchors","afterLoad","origin","destination","direction","showLoader","onLeave","trigger","_loop","setTimeout","currentTime","muted","sound_turn","item","sound_switch","style","display","setSectionState","showHeader","firstVideo","forEach","menu","a","href","endsWith","toString","anchor","path","sections","mainBlock","turnSounds","lastSection","lastVideoSection","header","copyCodeButton","body","mobilePosters","mobile_buttons","loaderBlock","userAgentString","navigator","userAgent","isSafari","indexOf","window","changeMainVideoForMobile","changeVideoForMobile","changeMobilePosters","mobile_button","test","location","setAttribute","showCopyCodeButton","firstVideoBlock","addFullVideo","isShow","copyCode","jsCode","clipboard","writeText","isFullVideo","src","includes","concat","mobilePoster","poster","getAttribute","turn","state","slider","Swiper","slidesPerView","spaceBetween","nextEl","prevEl","pagination","el","type","breakpoints","animateSoundTurnBlocks","soundTurn","lottie","loadAnimation","container","renderer","loop","autoplay","animateSountSwitchBlocks","soundSwitch","supportsHEVCAlpha","ua","toLowerCase","hasMediaCapabilities","mediaCapabilities","decodingInfo","isiphone","platform","maxTouchPoints"],"sources":["main.js"],"sourcesContent":["new WOW().init();\r\nconst menuItems = document.querySelectorAll(\".menu__item\");\r\nconst videos = document.querySelectorAll(\"[video]\");\r\nconst first_main_video = document.querySelector(\"[first_main_video]\");\r\nconst second_main_video = document.querySelector(\"[second_main_video]\");\r\n\r\nchangeMainVideo();\r\n\r\nfirst_main_video.addEventListener(\"ended\", function (e) {\r\n    if (isMobile()) {\r\n        var currentIndex = getSectionState();\r\n        if (!currentIndex) {\r\n            fullpage_api.moveSectionDown();\r\n        }\r\n    } else {\r\n        first_main_video.classList.add(\"hide_video\");\r\n        second_main_video.classList.remove(\"hide_video\");\r\n        second_main_video.play();\r\n    }\r\n});\r\n\r\nsecond_main_video.addEventListener(\"ended\", function (e) {\r\n    var currentIndex = getSectionState();\r\n    if (!currentIndex) {\r\n        fullpage_api.moveSectionDown();\r\n    }\r\n    second_main_video.classList.add(\"hide_video\");\r\n    second_main_video.currentIndex = 0;\r\n});\r\n\r\nfor (var index = 1; index < videos.length; index++) {\r\n    var video = videos[index];\r\n    video.addEventListener(\"ended\", function (e) {\r\n        fullpage_api.moveSectionDown();\r\n    });\r\n}\r\n\r\nnew fullpage(\"#fullpage\", {\r\n    navigation: false,\r\n    scrollingSpeed: 1500,\r\n    resetSliders: true,\r\n    anchors: [\"\", \"desktop_video\", \"phone_video\", \"\", \"\"],\r\n    afterLoad: function (origin, destination, direction) {\r\n        if (destination.index !== 0) {\r\n            showLoader(false);\r\n        }\r\n    },\r\n    onLeave: function (origin, destination, direction, trigger) {\r\n        const videos = document.querySelectorAll(\"[video]\");\r\n        for (let index = 0; index < videos.length; index++) {\r\n            const video = videos[index];\r\n            var currentIndex = getSectionState();\r\n            if (index == currentIndex) {\r\n                setTimeout(function () {\r\n                    video.currentTime = 0;\r\n                }, 1600);\r\n            }\r\n\r\n            if (origin.index === index) {\r\n                if (!video.muted) {\r\n                    video.muted = true;\r\n                    var sound_turn = origin.item.querySelector(\".sound_turn\");\r\n                    var sound_switch = origin.item.querySelector(\".sound_switch\");\r\n                    sound_switch.style.display = \"block\";\r\n                    sound_turn.style.display = \"none\";\r\n                }\r\n            }\r\n        };\r\n\r\n        setSectionState(destination.index);\r\n\r\n        if (destination.index === 1) {\r\n            showHeader(true);\r\n        }\r\n\r\n        if (destination.index === 0) {\r\n            showHeader(false);\r\n            var firstVideo = document.querySelector('[section=\"video1\"]');\r\n            firstVideo.classList.remove(\"video_block_full\");\r\n            if (!isMobile) {\r\n                second_main_video.classList.add(\"hide_video\");\r\n                first_main_video.classList.remove(\"hide_video\");\r\n                second_main_video.currentIndex = 0;\r\n            }\r\n            first_main_video.currentTime = 0;\r\n            first_main_video.play();\r\n        }\r\n\r\n        menuItems.forEach((menu) => {\r\n            menu.classList.remove(\"menu_active_link\");\r\n            const a = menu.querySelector(\"a\");\r\n            if (a.href.endsWith({ toString: () => destination.anchor || 'index.html' })) {\r\n                menu.classList.add(\"menu_active_link\");\r\n            }\r\n        });\r\n    },\r\n});\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n    init();\r\n});\r\nvar path = \"./\";\r\nconst sections = document.querySelectorAll(\"[section]\");\r\nconst mainBlock = document.querySelector(\"#main\");\r\nconst turnSounds = document.querySelectorAll(\"[turn-sound]\");\r\nconst lastSection = document.querySelector(`[section=\"video3\"]`);\r\nconst lastVideoSection = document.querySelector(`[section=\"video3\"]`);\r\nconst header = document.querySelector(\"#header\");\r\nconst copyCodeButton = document.querySelector(\"[copyCode]\");\r\nconst body = document.querySelector(\".main_body_section\");\r\nconst mobilePosters = document.querySelectorAll(\"[poster_mobile]\");\r\nconst mobile_buttons = document.querySelectorAll(\"[mobile_button]\");\r\nconst loaderBlock = document.querySelector(\".loader_block\");\r\n\r\nlet userAgentString = navigator.userAgent;\r\nlet isSafari = userAgentString.indexOf(\"Safari\") > -1;\r\n\r\nfunction init() {\r\n    showLoader(true);\r\n    window.currentIndex = null;\r\n\r\n    header.classList.add(\"header_transparent\");\r\n\r\n    if (isMobile()) {\r\n        changeMainVideoForMobile();\r\n        changeVideoForMobile();\r\n        changeMobilePosters();\r\n    }\r\n\r\n    if (isMobile() && isSafari) {\r\n        mobile_buttons.forEach((mobile_button) => {\r\n            mobile_button.classList.add(\"safari_button\");\r\n        });\r\n    }\r\n\r\n    if (/phone_video/.test(location.href)) {\r\n        showLoader(true);\r\n        showHeader(true);\r\n        videos[2].play();\r\n    } else if (/desktop_video/.test(location.href)) {\r\n        showLoader(true);\r\n        showHeader(true);\r\n        videos[1].play();\r\n    }\r\n\r\n    first_main_video.addEventListener(\"error\", function (e) {\r\n        showLoader(false);\r\n        if (isMobile()) {\r\n            first_main_video.setAttribute(\r\n                \"poster\",\r\n                \"images/main_page/video_img_mobile_1.png\"\r\n            );\r\n        } else {\r\n            first_main_video.setAttribute(\r\n                \"poster\",\r\n                \"images/main_page/video_img_1.png\"\r\n            );\r\n        }\r\n        showCopyCodeButton(true);\r\n    });\r\n\r\n    first_main_video.addEventListener('loadeddata', function () {\r\n        showLoader(false);\r\n    }, false);\r\n\r\n    first_main_video.addEventListener(\r\n        \"timeupdate\",\r\n        function () {\r\n            let firstVideoBlock = document.querySelector('[section=\"video1\"]');\r\n            if (first_main_video.currentTime > 0) {\r\n                showLoader(false);\r\n                showCopyCodeButton(true);\r\n            }\r\n\r\n            if (first_main_video.currentTime >= 3.5) {\r\n                showCopyCodeButton(false);\r\n                addFullVideo(true);\r\n            }\r\n\r\n            if (first_main_video.currentTime >= 14.8) {\r\n                firstVideoBlock.classList.add(\"video-opacity\");\r\n            }\r\n\r\n            if (first_main_video.currentTime >= 15.8) {\r\n                firstVideoBlock.classList.remove(\"video-opacity\");\r\n                showHeader(true);\r\n            }\r\n        },\r\n        false\r\n    );\r\n}\r\n\r\nwindow.addEventListener(\r\n    \"resize\",\r\n    function () {\r\n        if (isMobile()) {\r\n            changeVideoForMobile();\r\n        }\r\n    },\r\n    true\r\n);\r\n\r\nfunction showLoader(isShow) {\r\n    if (isShow) {\r\n        loaderBlock.classList.add(\"show_loader\");\r\n    } else {\r\n        setTimeout(function () {\r\n            loaderBlock.classList.remove(\"show_loader\");\r\n        }, 1000);\r\n    }\r\n}\r\n\r\nfunction copyCode() {\r\n    var jsCode = `<!DOCTYPE html>\r\n    <head><title></title></head>\r\n    <body>\r\n    <svg id=\"mySvg\" width=\"960\" height=\"500\"></svg>\r\n    <script src=\"http://d3js.org/d3.v7.min.js\"></script>\r\n    <script src=\"http://d3js.org/topojson.v3.min.js\"></script>\r\n    <script>\r\n    var width = 960, height = 500, svg = d3.select(\"svg\");\r\n    d3.json(\"https://raw.githubusercontent.com/org-scn-design-studio-\" +\r\n        \"community/sdkcommunitymaps/master/geojson/Europe/Ukraine-regions.json\"\r\n    ).then(function (data) {\r\n        var land = topojson.feature(data, data.objects.UKR_adm1),\r\n            projection = d3.geoAlbers().rotate([-30, 0, 0])\r\n                .fitSize([.9 * width, .9 * height], land),\r\n            path = d3.geoPath().projection(projection);\r\n        svg.selectAll(\"path\").data(land.features).enter()\r\n            .append(\"path\").attr(\"d\", path).attr(\"fill\", \"#FFD500')\r\n            .attr(\"stroke\", \"#005BBB\");\r\n        svg.append(\"text\").attr(\"x\", (width / 2)).attr(\"y\", height - (20))\r\n            .attr(\"text-anchor\", \"middle\").style(\"font-size\", \"24px\")\r\n            .style(\"fill\", \"#005BBB\").text(\"Improvs\");`;\r\n\r\n    navigator.clipboard.writeText(jsCode);\r\n}\r\n\r\nfunction showCopyCodeButton(isShow) {\r\n    if (isShow) {\r\n        copyCodeButton.classList.remove(\"hide\");\r\n    } else {\r\n        copyCodeButton.classList.add(\"hide\");\r\n    }\r\n}\r\n\r\nfunction addFullVideo(isFullVideo) {\r\n    let firstVideo = document.querySelector('[section=\"video1\"]');\r\n    if (isFullVideo) {\r\n        firstVideo.classList.add(\"video_block_full\");\r\n    } else {\r\n        firstVideo.classList.remove(\"video_block_full\");\r\n    }\r\n}\r\n\r\n//video\r\nfunction changeVideoForMobile() {\r\n    for (let index = 1; index < videos.length; index++) {\r\n        const video = videos[index];\r\n        if (!video.src.includes(\"mobile\")) {\r\n            video.src = path + `files/main_video/video_${index + 1}_mobile.mov`;\r\n        }\r\n    }\r\n}\r\n\r\nfunction changeMobilePosters() {\r\n    mobilePosters.forEach((mobilePoster) => {\r\n        let poster = mobilePoster.getAttribute(\"poster_mobile\");\r\n        mobilePoster.poster = poster;\r\n    });\r\n}\r\n\r\nturnSounds.forEach((turn) => {\r\n    turn.addEventListener(\"click\", function () {\r\n        let video = videos[getSectionState()];\r\n        if (video) {\r\n            video.muted = !video.muted;\r\n            let sound_turn = turn.querySelector(\".sound_turn\");\r\n            let sound_switch = turn.querySelector(\".sound_switch\");\r\n            if (video.muted) {\r\n                if (sound_turn) {\r\n                    sound_turn.style.display = \"none\";\r\n                    sound_switch.style.display = \"block\";\r\n                }\r\n            } else {\r\n                if (sound_switch) {\r\n                    sound_switch.style.display = \"none\";\r\n                    sound_turn.style.display = \"block\";\r\n                }\r\n            }\r\n        }\r\n    });\r\n});\r\n\r\n//header\r\nfunction showHeader(isShow) {\r\n    if (isShow) {\r\n        header.classList.add(\"active\");\r\n    } else {\r\n        header.classList.remove(\"active\");\r\n    }\r\n}\r\n\r\n//state\r\nfunction setSectionState(index) {\r\n    window.currentIndex = index;\r\n}\r\n\r\nfunction getSectionState() {\r\n    var state = window.currentIndex;\r\n    if (state) {\r\n        return state;\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n\r\n//OURWORK\r\nconst slider = new Swiper(\".our_work-slider\", {\r\n    slidesPerView: 1.5,\r\n    spaceBetween: 20,\r\n\r\n    navigation: {\r\n        nextEl: \".btn-next\",\r\n        prevEl: \".btn-prev\",\r\n    },\r\n\r\n    pagination: {\r\n        el: \".nav-pag\",\r\n        type: \"bullets\",\r\n    },\r\n\r\n    breakpoints: {\r\n        320: {\r\n            slidesPerView: 1,\r\n        },\r\n        480: {\r\n            slidesPerView: 1.5,\r\n        },\r\n        1440: {\r\n            slidesPerView: 2.5,\r\n        },\r\n        1920: {\r\n            slidesPerView: 3.5,\r\n        },\r\n    },\r\n});\r\n\r\n\r\nvar animateSoundTurnBlocks = document.querySelectorAll(\".sound_turn\");\r\nanimateSoundTurnBlocks.forEach((soundTurn) => {\r\n    lottie.loadAnimation({\r\n        container: soundTurn,\r\n        renderer: 'svg',\r\n        loop: true,\r\n        autoplay: true,\r\n        path: './files/robot.json'\r\n    });\r\n});\r\n\r\nvar animateSountSwitchBlocks = document.querySelectorAll(\".sound_switch\");\r\nanimateSountSwitchBlocks.forEach((soundSwitch) => {\r\n    lottie.loadAnimation({\r\n        container: soundSwitch,\r\n        renderer: 'svg',\r\n        loop: true,\r\n        autoplay: true,\r\n        path: './files/robot_still.json'\r\n    });\r\n});\r\n\r\nfunction supportsHEVCAlpha() {\r\n    const navigator = window.navigator;\r\n    const ua = navigator.userAgent.toLowerCase();\r\n    const hasMediaCapabilities = !!(\r\n        navigator.mediaCapabilities && navigator.mediaCapabilities.decodingInfo\r\n    );\r\n    const isSafari =\r\n        ua.indexOf(\"safari\") != -1 &&\r\n        !(ua.indexOf(\"chrome\") != -1) &&\r\n        ua.indexOf(\"version/\") != -1;\r\n    const isiphone =\r\n        /iPad|iPhone|iPod/.test(navigator.userAgent) ||\r\n        (navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1);\r\n    return (isSafari || isiphone) && hasMediaCapabilities;\r\n}\r\n\r\nfunction changeMainVideoForMobile() {\r\n    first_main_video.src = \"files/main_video/video_1_mobile.mov\";\r\n}\r\n\r\nfunction changeMainVideo() {\r\n    if (supportsHEVCAlpha()) {\r\n        first_main_video.src = \"files/main_video/video_1_part1.mov\";\r\n    } else {\r\n        first_main_video.src = \"files/main_video/video_1_part1.webm\";\r\n    }\r\n    second_main_video.src = \"files/main_video/video_1_part2.mov\"\r\n}"],"mappings":"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","ignoreList":[]}