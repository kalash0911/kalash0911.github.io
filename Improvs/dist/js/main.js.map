{"version":3,"sources":["main.js"],"names":["showHeader","sections","document","querySelectorAll","mainBlock","querySelector","firstVideo","addEventListener","myHandler","e","nextSlide","slide","getSectionState","index","length","section","getAttribute","scrollByElementName","setSectionState","previousSlide","play","elementName","element","scrollToValue","offsetTop","scrollToOffset","offset","style","transform","isShow","header","display","burger","burger_btn","text_click","menuBody","linkClose","body","classList","toggle","contains","add","remove","i","delayWheel","event","deltaY","setTimeout","name","stateObj","window","history","pushState","location","href","state"],"mappings":"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","sourcesContent":["showHeader(false);\nconst sections = document.querySelectorAll(\"[section]\");\nconst mainBlock = document.querySelector(\"#wrapper\");\nconst firstVideo=document.querySelector('#first_video');\n\nfirstVideo.addEventListener('ended',myHandler,false);\nfunction myHandler(e) {\n    showHeader(true);\n    nextSlide();\n}\n\n\nfunction nextSlide() {\n    var slide = getSectionState();\n    if (slide) {\n        let index = slide.index;\n        if (index <= sections.length - 2) {\n            index = index + 1;\n            let section = sections[index].getAttribute('section');\n            scrollByElementName(section);\n            setSectionState(section, index);\n        }\n    } else {\n        let section = sections[1].getAttribute('section');\n        scrollByElementName(section);\n        setSectionState(section, 1);\n    }\n}\n\nfunction previousSlide() {\n    var slide = getSectionState();\n    if (slide) {\n        let index = slide.index;\n        if (index > 0) {\n            index = index - 1;\n\n            if(index==0){\n                firstVideo.play();\n                showHeader(false);\n            }\n\n            let section = sections[index].getAttribute('section');\n            scrollByElementName(section);\n            setSectionState(section, index);\n        }\n    } else {\n        let section = sections[1].getAttribute('section');\n        scrollByElementName(section);\n        setSectionState(section, 1);\n    }\n}\n\n//scroll\nfunction scrollByElementName(elementName) {\n    let element = \"\";\n    element = document.querySelector(`[section=${elementName}]`);\n    if (!element) {\n        return;\n    }\n\n    let scrollToValue = element.offsetTop;\n    scrollToOffset(scrollToValue);\n}\n\nfunction scrollToOffset(offset) {\n    mainBlock.style.transform = `translate3d(0px, -${offset}px, 0px)`;\n    //window.scrollTo({\n    //  behavior: 'smooth',\n    // left: 0,\n    // top: offset\n    //});\n}\n\n\n//header\nfunction showHeader(isShow) {\n    let header = document.querySelector(\"#header\");\n    if (isShow) {\n        header.style.display = \"block\";\n    } else {\n        header.style.display = \"none\";\n    }\n}\n\n//BURGERMENU\nconst burger = document.querySelector(\".burger\");\nconst burger_btn = document.querySelector(\".burger-btn\");\nconst text_click = document.querySelector(\".text_burger_btn\");\nconst menuBody = document.querySelector(\".header__menu \");\nconst linkClose = document.querySelectorAll(\".link-close\");\nif (burger) {\n    burger_btn.addEventListener(\"click\", function (e) {\n        document.body.classList.toggle(\"body_lock\");\n        document.body.classList.toggle(\"active\");\n        text_click.classList.toggle(\"text_burger_btn-click\");\n        if (burger.classList.contains(\"burger_active\")) {\n            burger.classList.add(\"burger_finish\");\n            burger.classList.remove(\"burger_active\");\n\n        } else {\n            burger.classList.add(\"burger_active\");\n            burger.classList.remove(\"burger_finish\");\n        }\n        menuBody.classList.toggle(\"menu_active\");\n    });\n}\n\nif (linkClose.length) {\n    for (var i = 0; i < linkClose.length; ++i) {\n        linkClose[i].addEventListener(\"click\", function (e) {\n            document.body.classList.remove(\"body_lock\");\n            document.body.classList.remove(\"active\");\n            text_click.classList.remove(\"text_burger_btn-click\");\n            burger.classList.remove(\"burger_active\");\n            burger.classList.add(\"burger_finish\");\n            menuBody.classList.remove(\"menu_active\");\n\n        });\n    }\n}\n\n//mouse wheel event\nvar delayWheel = true;\ndocument.addEventListener('wheel', function (event) {\n    if (delayWheel===true) {\n        delayWheel = false;\n        if (event.deltaY > 0) {\n            nextSlide();\n        } else {\n            previousSlide();\n        }  \n\n        setTimeout(function () {\n            delayWheel = true;\n        }, 1500);\n    }\n});\n\n\n//state\nfunction setSectionState(name, index) {\n    let stateObj = { \"section\": name, \"index\": index };\n    window.history.pushState(stateObj, \"MainPage\", window.location.href);\n}\n\nfunction getSectionState() {\n    var state = window.history.state;\n    if (state) {\n        return window.history.state;\n    } else {\n        return null;\n    }\n}"],"file":"main.js"}