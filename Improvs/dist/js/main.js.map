{"version":3,"file":"main.js","names":["WOW","init","document","addEventListener","path","sections","querySelectorAll","mainBlock","querySelector","videos","turnSounds","lastSection","lastVideoSection","header","copyCodeButton","body","isSafari","test","navigator","userAgent","window","isDownScroll","currentIndex","body_lock","isScroling","isMobile","changeVideoForMobile","video_btns_safari_1","video_btns_safari_2","forEach","bottom_video_btn","classList","add","location","href","showHeader","play","setSectionState","firstVideo","firstVideoBlock","currentTime","hideCopyCodeButton","nextSlide","remove","copyCode","jsCode","clipboard","writeText","isHide","index","length","video","src","includes","concat","turn","getSectionState","img","muted","_loop","e","stopAllVideo","nextIndex","safePlayVideo","Index","currentVideo","isPlaying","pause","section","getAttribute","style","overflowY","scrollByElementName","previousSlide","arguments","undefined","console","log","elementName","element","scrollToValue","offsetTop","scrollToOffset","offset","scrollTo","behavior","left","top","viewportOffsetLastSection","Math","abs","getBoundingClientRect","bottom","offsetHeight","scrollY","viewportOffsetLastVideo","viewedPageHeight","innerHeight","main","website","mobileApplication","work","viewportOffsetMain","viewportOffsetWebsite","viewportOffMobileAppication","viewportOffWork","cleanHoverMenu","menuItems","setTimeout","isShow","eventTouch","position","touches","pageY","event","screenY","delayWheel","deltaY","state","slider","Swiper","speed","loop","spaceBetween","freeMode","centeredSlides","preventInteractionOnTransition","autoplay","delay","disableOnInteraction","breakpoints","slidesPerView","on","_this","stop","el","start"],"sources":["main.js"],"sourcesContent":["\nnew WOW().init();\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    init();\n});\nvar path = \"./\";\nconst sections = document.querySelectorAll(\"[section]\");\nconst mainBlock = document.querySelector(\"#main\");\nconst videos = document.querySelectorAll('[video]');\nconst turnSounds = document.querySelectorAll('[turn-sound ]');\nconst lastSection = document.querySelector(`[section=\"video3\"]`);\nconst lastVideoSection = document.querySelector(`[section=\"video3\"]`);\nconst header = document.querySelector(\"#header\");\nconst copyCodeButton = document.querySelector(\"[copyCode]\");\nconst body = document.querySelector(\".main_body_section\");\n\nfunction isSafari() {\n    var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n    return isSafari;\n}\n\nfunction init() {\n    window.isDownScroll = false;\n    window.currentIndex = null;\n    window.body_lock = false;\n    window.isScroling = false;\n\n    if (isMobile()) {\n        changeVideoForMobile();\n    }\n\n    if (isMobile() && isSafari()) {\n        const video_btns_safari_1 = document.querySelectorAll(\".video_btn_safari_1\");\n        const video_btns_safari_2 = document.querySelectorAll(\".video_btn_safari_2\");\n        video_btns_safari_1.forEach((bottom_video_btn) => {\n            bottom_video_btn.classList.add(\"safari_button_1\");\n        });\n\n        video_btns_safari_2.forEach((bottom_video_btn) => {\n            bottom_video_btn.classList.add(\"safari_button_2\");\n        });\n    }\n\n    if (/phone_video/.test(location.href)) {\n        showHeader(true);\n        videos[2].play();\n        setSectionState(2);\n    } else if (/desktop_video/.test(location.href)) {\n        showHeader(true);\n        videos[1].play()\n        setSectionState(1);\n    }\n\n    let firstVideo = videos[0];\n    firstVideo.addEventListener('timeupdate', function () {\n        let firstVideoBlock = document.querySelector(\"[section=\\\"video1\\\"]\");\n        if (firstVideo.currentTime >= 3.50000) {\n            hideCopyCodeButton(true);\n        }\n\n        if (firstVideo.currentTime >= 15.00000) {\n            firstVideoBlock.classList.add(\"video-opacity\");\n            showHeader(true);\n        }\n\n        if (firstVideo.currentTime >= 15.80000) {\n            nextSlide();\n            firstVideoBlock.classList.remove(\"video-opacity\");\n        }\n    }, false);\n}\n\nwindow.addEventListener('resize', function () {\n    if (isMobile()) {\n        changeVideoForMobile();\n    }\n}, true);\n\nfunction copyCode() {\n    var jsCode = `<!DOCTYPE html>\n    <head><title></title></head>\n    <body>\n    <svg id=\"mySvg\" width=\"960\" height=\"500\"></svg>\n    <script src=\"http://d3js.org/d3.v7.min.js\"></script>\n    <script src=\"http://d3js.org/topojson.v3.min.js\"></script>\n    <script>\n    var width = 960, height = 500, svg = d3.select(\"svg\");\n    d3.json(\"https://raw.githubusercontent.com/org-scn-design-studio-\" +\n        \"community/sdkcommunitymaps/master/geojson/Europe/Ukraine-regions.json\"\n    ).then(function (data) {\n        var land = topojson.feature(data, data.objects.UKR_adm1),\n            projection = d3.geoAlbers().rotate([-30, 0, 0])\n                .fitSize([.9 * width, .9 * height], land),\n            path = d3.geoPath().projection(projection);\n        svg.selectAll(\"path\").data(land.features).enter()\n            .append(\"path\").attr(\"d\", path).attr(\"fill\", \"#FFD500')\n            .attr(\"stroke\", \"#005BBB\");\n        svg.append(\"text\").attr(\"x\", (width / 2)).attr(\"y\", height - (20))\n            .attr(\"text-anchor\", \"middle\").style(\"font-size\", \"24px\")\n            .style(\"fill\", \"#005BBB\").text(\"Improvs\");`;\n\n    navigator.clipboard.writeText(jsCode);\n}\n\nfunction hideCopyCodeButton(isHide) {\n    let firstVideo = document.querySelector(\"[section=\\\"video1\\\"]\");\n    if (isHide) {\n        firstVideo.classList.add(\"video_block_full\");\n        copyCodeButton.classList.add(\"hide\");\n    } else {\n        firstVideo.classList.remove(\"video_block_full\");\n        copyCodeButton.classList.remove(\"hide\");\n    }\n}\n\n//video\nfunction changeVideoForMobile() {\n    for (let index = 0; index < videos.length; index++) {\n        const video = videos[index];\n        if (!video.src.includes(\"mobile\")) {\n            video.src = path + `files/main_video/video_${index + 1}_mobile.mp4`;\n        }\n    }\n}\n\nturnSounds.forEach(turn => {\n    turn.addEventListener('click', function () {\n        let video = videos[getSectionState()]\n        let img = turn.querySelector('img');\n        if (video) {\n            video.muted = !video.muted;\n            if (video.muted) {\n                img.src = path + '/images/main_page/sound_switch.svg';\n            } else {\n                img.src = path + '/images/main_page/sound_turn.svg';\n            }\n        }\n    })\n});\n\n\nfor (let index = 0; index < videos.length; index++) {\n    const video = videos[index];\n    video.addEventListener('ended', function (e) {\n        nextSlide();\n        stopAllVideo();\n        let nextIndex = index + 1;\n        if (videos[nextIndex]) {\n            safePlayVideo(nextIndex);\n        }\n    });\n}\n\nfunction safePlayVideo(Index) {\n    let currentVideo = videos[Index];\n    let isPlaying = currentVideo.currentTime == 0;\n    if (isPlaying) {\n        currentVideo.play();\n    }\n}\n\nfunction stopAllVideo() {\n    videos.forEach(video => {\n        video.currentTime = 0;\n        video.pause();\n    });\n}\n\nfunction nextSlide() {\n    if (window.body_lock) {\n        return;\n    }\n\n    let index = getSectionState();\n    if (index) {\n        if (index <= sections.length - 2) {\n            index = index + 1;\n\n            if (index == 2) {\n                stopAllVideo();\n                safePlayVideo(2);\n            }\n\n            if (index == 3) {\n                stopAllVideo();\n            }\n\n            let section = sections[index].getAttribute('section');\n            if (section === \"work\") {\n                body.style.overflowY = \"auto\";\n            }\n\n            scrollByElementName(section);\n            setSectionState(index);\n        }\n    } else {\n        showHeader(true);\n        let section = sections[1].getAttribute('section');\n        scrollByElementName(section);\n        stopAllVideo();\n        safePlayVideo(1);\n        setSectionState(1);\n    }\n}\n\nfunction previousSlide(isDownScroll = false) {\n    console.log(\"previousSlide\");\n    if (window.body_lock) {\n        return;\n    }\n\n    let index = getSectionState();\n    if (index) {\n        if (index > 0) {\n            index = index - 1;\n\n            if (index <= 2) {\n                stopAllVideo();\n                hideCopyCodeButton(false);\n                safePlayVideo(index);\n            }\n            if (index == 0) {\n                showHeader(false);\n            }\n\n            let section = sections[index].getAttribute('section');\n            if (section == \"video3\" && !isDownScroll) {\n                return;\n            }\n\n            scrollByElementName(section);\n            setSectionState(index);\n        }\n    }\n}\n\n//scroll\nfunction scrollByElementName(elementName) {\n    let element = \"\";\n    element = document.querySelector(`[section=${elementName}]`);\n    if (!element) {\n        return;\n    }\n\n    let scrollToValue = element.offsetTop;\n    scrollToOffset(scrollToValue);\n}\n\nfunction scrollToOffset(offset) {\n    console.log(\"scrollToOffset \" + offset);\n    window.scrollTo({\n        behavior: 'smooth',\n        left: 0,\n        top: offset\n    });\n}\n\n//sroll previous\nlet viewportOffsetLastSection = Math.abs(lastSection.getBoundingClientRect().bottom + (lastSection.offsetHeight - 50) + window.scrollY);\nlet viewportOffsetLastVideo = Math.abs(lastVideoSection.getBoundingClientRect().bottom + lastSection.offsetHeight + window.scrollY);\nwindow.addEventListener(\"scroll\", function () {\n    let viewedPageHeight = Math.abs(document.body.getBoundingClientRect().top) + window.innerHeight;\n\n    if (window.body_lock) {\n        return;\n    }\n\n    if (viewedPageHeight >= viewportOffsetLastVideo) {\n        header.classList.remove(\"header_transparent\");\n    } else {\n        header.classList.add(\"header_transparent\");\n    }\n    if (viewedPageHeight <= (viewportOffsetLastSection) && window.isDownScroll) {\n        window.isDownScroll = false;\n        body.style.overflowY = \"hidden\";\n        previousSlide(true);\n\n    }\n    if (viewedPageHeight >= viewportOffsetLastVideo && !isDownScroll) {\n        window.isDownScroll = true;\n    }\n\n\n    //menu hover\n    let main = document.querySelector(\"[section=\\\"video1\\\"]\");\n    let website = document.querySelector(\"[section=\\\"video2\\\"]\");\n    let mobileApplication = document.querySelector(\"[section=\\\"video3\\\"]\");\n    let work = document.querySelector(\"[section=\\\"work\\\"]\");\n\n    let viewportOffsetMain = Math.abs(main.getBoundingClientRect().top + window.scrollY);\n    let viewportOffsetWebsite = Math.abs(website.getBoundingClientRect().top + window.scrollY);\n    let viewportOffMobileAppication = Math.abs(mobileApplication.getBoundingClientRect().top + window.scrollY);\n    let viewportOffWork = Math.abs(work.getBoundingClientRect().top + window.scrollY);\n\n    if (viewedPageHeight >= viewportOffsetMain && viewedPageHeight <= viewportOffMobileAppication) {\n        cleanHoverMenu();\n        menuItems[1].classList.add(\"menu_active_link\");\n    } else if (viewedPageHeight >= viewportOffsetWebsite && viewedPageHeight < viewportOffWork) {\n        cleanHoverMenu();\n        menuItems[2].classList.add(\"menu_active_link\");\n    } else if (viewedPageHeight >= viewportOffWork) {\n        cleanHoverMenu();\n        menuItems[3].classList.add(\"menu_active_link\");\n    }\n\n    window.isScroling = true;\n    setTimeout(() => window.isScroling = false, 500);\n});\n\n\n//header\nfunction showHeader(isShow) {\n    if (isShow) {\n        header.classList.add(\"active\");\n    } else {\n        header.classList.remove(\"active\");\n    }\n}\n\n//touch\nlet eventTouch = null;\ndocument.addEventListener(\"touchstart\", function (e) {\n    eventTouch = e;\n});\n\ndocument.addEventListener(\"touchmove\", function (e) {\n    if (eventTouch) {\n        let position = (e.touches[0].pageY - eventTouch.touches[0].pageY);\n        eventTouch = null;\n        if (position > 0) {\n            previousSlide();\n        } else {\n            nextSlide();\n        }\n    }\n});\n\ndocument.addEventListener(\"touched\", function (e) {\n    eventTouch = null;\n});\n\n//touch desktop\nvar event = null;\ndocument.addEventListener(\"mousedown\", function (e) {\n    event = e;\n});\n\ndocument.addEventListener(\"mousemove\", function (e) {\n    if (event) {\n        let position = (e.screenY - event.screenY);\n        event = null;\n        if (position > 0) {\n            previousSlide();\n        } else {\n            nextSlide();\n        }\n    }\n});\n\ndocument.addEventListener(\"mouseup\", function (e) {\n    event = null;\n});\n\n//mouse wheel event\nvar delayWheel = true;\ndocument.addEventListener('wheel', function (event) {\n    if (delayWheel === true) {\n        delayWheel = false;\n        if (event.deltaY > 0) {\n            nextSlide();\n        } else {\n            previousSlide();\n        }\n\n        setTimeout(function () {\n            delayWheel = true;\n        }, 1000);\n    }\n});\n\n\n//state\nfunction setSectionState(index) {\n    window.currentIndex = index;\n}\n\nfunction getSectionState() {\n    var state = window.currentIndex;\n    if (state) {\n        return state;\n    } else {\n        return null;\n    }\n}\n\n//OURWORK\nconst slider = new Swiper(\".case_swiper\", {\n    speed: 4500,\n    loop: true,\n    spaceBetween: 20,\n    freeMode: true,\n    centeredSlides: false,\n    preventInteractionOnTransition: false,\n    autoplay: {\n        delay: 1,\n        disableOnInteraction: false\n    },\n    breakpoints: {\n        320: {\n            slidesPerView: 1.15,\n            spaceBetween: 10,\n        },\n        480: {\n            slidesPerView: 1.3,\n        },\n        1440: {\n            slidesPerView: 1.5,\n        },\n        1920: {\n            slidesPerView: 2.2,\n        },\n    },\n    on: {\n        init() {\n            this.autoplay.stop();\n\n            this.el.addEventListener('mousemove', () => {\n                if (!window.isScroling) {\n                    this.autoplay.start();\n                }\n            });\n\n            this.el.addEventListener('mouseleave', () => {\n                this.autoplay.stop();\n            });\n        }\n    }\n});"],"mappings":";;AACA,IAAIA,GAAG,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;AAEhBC,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,YAAY;EACtDF,IAAI,CAAC,CAAC;AACV,CAAC,CAAC;AACF,IAAIG,IAAI,GAAG,IAAI;AACf,IAAMC,QAAQ,GAAGH,QAAQ,CAACI,gBAAgB,CAAC,WAAW,CAAC;AACvD,IAAMC,SAAS,GAAGL,QAAQ,CAACM,aAAa,CAAC,OAAO,CAAC;AACjD,IAAMC,MAAM,GAAGP,QAAQ,CAACI,gBAAgB,CAAC,SAAS,CAAC;AACnD,IAAMI,UAAU,GAAGR,QAAQ,CAACI,gBAAgB,CAAC,eAAe,CAAC;AAC7D,IAAMK,WAAW,GAAGT,QAAQ,CAACM,aAAa,uBAAqB,CAAC;AAChE,IAAMI,gBAAgB,GAAGV,QAAQ,CAACM,aAAa,uBAAqB,CAAC;AACrE,IAAMK,MAAM,GAAGX,QAAQ,CAACM,aAAa,CAAC,SAAS,CAAC;AAChD,IAAMM,cAAc,GAAGZ,QAAQ,CAACM,aAAa,CAAC,YAAY,CAAC;AAC3D,IAAMO,IAAI,GAAGb,QAAQ,CAACM,aAAa,CAAC,oBAAoB,CAAC;AAEzD,SAASQ,QAAQA,CAAA,EAAG;EAChB,IAAIA,QAAQ,GAAG,gCAAgC,CAACC,IAAI,CAACC,SAAS,CAACC,SAAS,CAAC;EACzE,OAAOH,QAAQ;AACnB;AAEA,SAASf,IAAIA,CAAA,EAAG;EACZmB,MAAM,CAACC,YAAY,GAAG,KAAK;EAC3BD,MAAM,CAACE,YAAY,GAAG,IAAI;EAC1BF,MAAM,CAACG,SAAS,GAAG,KAAK;EACxBH,MAAM,CAACI,UAAU,GAAG,KAAK;EAEzB,IAAIC,QAAQ,CAAC,CAAC,EAAE;IACZC,oBAAoB,CAAC,CAAC;EAC1B;EAEA,IAAID,QAAQ,CAAC,CAAC,IAAIT,QAAQ,CAAC,CAAC,EAAE;IAC1B,IAAMW,mBAAmB,GAAGzB,QAAQ,CAACI,gBAAgB,CAAC,qBAAqB,CAAC;IAC5E,IAAMsB,mBAAmB,GAAG1B,QAAQ,CAACI,gBAAgB,CAAC,qBAAqB,CAAC;IAC5EqB,mBAAmB,CAACE,OAAO,CAAC,UAACC,gBAAgB,EAAK;MAC9CA,gBAAgB,CAACC,SAAS,CAACC,GAAG,CAAC,iBAAiB,CAAC;IACrD,CAAC,CAAC;IAEFJ,mBAAmB,CAACC,OAAO,CAAC,UAACC,gBAAgB,EAAK;MAC9CA,gBAAgB,CAACC,SAAS,CAACC,GAAG,CAAC,iBAAiB,CAAC;IACrD,CAAC,CAAC;EACN;EAEA,IAAI,aAAa,CAACf,IAAI,CAACgB,QAAQ,CAACC,IAAI,CAAC,EAAE;IACnCC,UAAU,CAAC,IAAI,CAAC;IAChB1B,MAAM,CAAC,CAAC,CAAC,CAAC2B,IAAI,CAAC,CAAC;IAChBC,eAAe,CAAC,CAAC,CAAC;EACtB,CAAC,MAAM,IAAI,eAAe,CAACpB,IAAI,CAACgB,QAAQ,CAACC,IAAI,CAAC,EAAE;IAC5CC,UAAU,CAAC,IAAI,CAAC;IAChB1B,MAAM,CAAC,CAAC,CAAC,CAAC2B,IAAI,CAAC,CAAC;IAChBC,eAAe,CAAC,CAAC,CAAC;EACtB;EAEA,IAAIC,UAAU,GAAG7B,MAAM,CAAC,CAAC,CAAC;EAC1B6B,UAAU,CAACnC,gBAAgB,CAAC,YAAY,EAAE,YAAY;IAClD,IAAIoC,eAAe,GAAGrC,QAAQ,CAACM,aAAa,CAAC,sBAAsB,CAAC;IACpE,IAAI8B,UAAU,CAACE,WAAW,IAAI,OAAO,EAAE;MACnCC,kBAAkB,CAAC,IAAI,CAAC;IAC5B;IAEA,IAAIH,UAAU,CAACE,WAAW,IAAI,QAAQ,EAAE;MACpCD,eAAe,CAACR,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC;MAC9CG,UAAU,CAAC,IAAI,CAAC;IACpB;IAEA,IAAIG,UAAU,CAACE,WAAW,IAAI,QAAQ,EAAE;MACpCE,SAAS,CAAC,CAAC;MACXH,eAAe,CAACR,SAAS,CAACY,MAAM,CAAC,eAAe,CAAC;IACrD;EACJ,CAAC,EAAE,KAAK,CAAC;AACb;AAEAvB,MAAM,CAACjB,gBAAgB,CAAC,QAAQ,EAAE,YAAY;EAC1C,IAAIsB,QAAQ,CAAC,CAAC,EAAE;IACZC,oBAAoB,CAAC,CAAC;EAC1B;AACJ,CAAC,EAAE,IAAI,CAAC;AAER,SAASkB,QAAQA,CAAA,EAAG;EAChB,IAAIC,MAAM,8oCAoByC;EAEnD3B,SAAS,CAAC4B,SAAS,CAACC,SAAS,CAACF,MAAM,CAAC;AACzC;AAEA,SAASJ,kBAAkBA,CAACO,MAAM,EAAE;EAChC,IAAIV,UAAU,GAAGpC,QAAQ,CAACM,aAAa,CAAC,sBAAsB,CAAC;EAC/D,IAAIwC,MAAM,EAAE;IACRV,UAAU,CAACP,SAAS,CAACC,GAAG,CAAC,kBAAkB,CAAC;IAC5ClB,cAAc,CAACiB,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC;EACxC,CAAC,MAAM;IACHM,UAAU,CAACP,SAAS,CAACY,MAAM,CAAC,kBAAkB,CAAC;IAC/C7B,cAAc,CAACiB,SAAS,CAACY,MAAM,CAAC,MAAM,CAAC;EAC3C;AACJ;;AAEA;AACA,SAASjB,oBAAoBA,CAAA,EAAG;EAC5B,KAAK,IAAIuB,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGxC,MAAM,CAACyC,MAAM,EAAED,KAAK,EAAE,EAAE;IAChD,IAAME,KAAK,GAAG1C,MAAM,CAACwC,KAAK,CAAC;IAC3B,IAAI,CAACE,KAAK,CAACC,GAAG,CAACC,QAAQ,CAAC,QAAQ,CAAC,EAAE;MAC/BF,KAAK,CAACC,GAAG,GAAGhD,IAAI,6BAAAkD,MAAA,CAA6BL,KAAK,GAAG,CAAC,gBAAa;IACvE;EACJ;AACJ;AAEAvC,UAAU,CAACmB,OAAO,CAAC,UAAA0B,IAAI,EAAI;EACvBA,IAAI,CAACpD,gBAAgB,CAAC,OAAO,EAAE,YAAY;IACvC,IAAIgD,KAAK,GAAG1C,MAAM,CAAC+C,eAAe,CAAC,CAAC,CAAC;IACrC,IAAIC,GAAG,GAAGF,IAAI,CAAC/C,aAAa,CAAC,KAAK,CAAC;IACnC,IAAI2C,KAAK,EAAE;MACPA,KAAK,CAACO,KAAK,GAAG,CAACP,KAAK,CAACO,KAAK;MAC1B,IAAIP,KAAK,CAACO,KAAK,EAAE;QACbD,GAAG,CAACL,GAAG,GAAGhD,IAAI,GAAG,oCAAoC;MACzD,CAAC,MAAM;QACHqD,GAAG,CAACL,GAAG,GAAGhD,IAAI,GAAG,kCAAkC;MACvD;IACJ;EACJ,CAAC,CAAC;AACN,CAAC,CAAC;AAAC,IAAAuD,KAAA,YAAAA,MAAAV,KAAA,EAGiD;EAChD,IAAME,KAAK,GAAG1C,MAAM,CAACwC,KAAK,CAAC;EAC3BE,KAAK,CAAChD,gBAAgB,CAAC,OAAO,EAAE,UAAUyD,CAAC,EAAE;IACzClB,SAAS,CAAC,CAAC;IACXmB,YAAY,CAAC,CAAC;IACd,IAAIC,SAAS,GAAGb,KAAK,GAAG,CAAC;IACzB,IAAIxC,MAAM,CAACqD,SAAS,CAAC,EAAE;MACnBC,aAAa,CAACD,SAAS,CAAC;IAC5B;EACJ,CAAC,CAAC;AACN,CAAC;AAVD,KAAK,IAAIb,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGxC,MAAM,CAACyC,MAAM,EAAED,KAAK,EAAE;EAAAU,KAAA,CAAAV,KAAA;AAAA;AAYlD,SAASc,aAAaA,CAACC,KAAK,EAAE;EAC1B,IAAIC,YAAY,GAAGxD,MAAM,CAACuD,KAAK,CAAC;EAChC,IAAIE,SAAS,GAAGD,YAAY,CAACzB,WAAW,IAAI,CAAC;EAC7C,IAAI0B,SAAS,EAAE;IACXD,YAAY,CAAC7B,IAAI,CAAC,CAAC;EACvB;AACJ;AAEA,SAASyB,YAAYA,CAAA,EAAG;EACpBpD,MAAM,CAACoB,OAAO,CAAC,UAAAsB,KAAK,EAAI;IACpBA,KAAK,CAACX,WAAW,GAAG,CAAC;IACrBW,KAAK,CAACgB,KAAK,CAAC,CAAC;EACjB,CAAC,CAAC;AACN;AAEA,SAASzB,SAASA,CAAA,EAAG;EACjB,IAAItB,MAAM,CAACG,SAAS,EAAE;IAClB;EACJ;EAEA,IAAI0B,KAAK,GAAGO,eAAe,CAAC,CAAC;EAC7B,IAAIP,KAAK,EAAE;IACP,IAAIA,KAAK,IAAI5C,QAAQ,CAAC6C,MAAM,GAAG,CAAC,EAAE;MAC9BD,KAAK,GAAGA,KAAK,GAAG,CAAC;MAEjB,IAAIA,KAAK,IAAI,CAAC,EAAE;QACZY,YAAY,CAAC,CAAC;QACdE,aAAa,CAAC,CAAC,CAAC;MACpB;MAEA,IAAId,KAAK,IAAI,CAAC,EAAE;QACZY,YAAY,CAAC,CAAC;MAClB;MAEA,IAAIO,OAAO,GAAG/D,QAAQ,CAAC4C,KAAK,CAAC,CAACoB,YAAY,CAAC,SAAS,CAAC;MACrD,IAAID,OAAO,KAAK,MAAM,EAAE;QACpBrD,IAAI,CAACuD,KAAK,CAACC,SAAS,GAAG,MAAM;MACjC;MAEAC,mBAAmB,CAACJ,OAAO,CAAC;MAC5B/B,eAAe,CAACY,KAAK,CAAC;IAC1B;EACJ,CAAC,MAAM;IACHd,UAAU,CAAC,IAAI,CAAC;IAChB,IAAIiC,QAAO,GAAG/D,QAAQ,CAAC,CAAC,CAAC,CAACgE,YAAY,CAAC,SAAS,CAAC;IACjDG,mBAAmB,CAACJ,QAAO,CAAC;IAC5BP,YAAY,CAAC,CAAC;IACdE,aAAa,CAAC,CAAC,CAAC;IAChB1B,eAAe,CAAC,CAAC,CAAC;EACtB;AACJ;AAEA,SAASoC,aAAaA,CAAA,EAAuB;EAAA,IAAtBpD,YAAY,GAAAqD,SAAA,CAAAxB,MAAA,QAAAwB,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,KAAK;EACvCE,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;EAC5B,IAAIzD,MAAM,CAACG,SAAS,EAAE;IAClB;EACJ;EAEA,IAAI0B,KAAK,GAAGO,eAAe,CAAC,CAAC;EAC7B,IAAIP,KAAK,EAAE;IACP,IAAIA,KAAK,GAAG,CAAC,EAAE;MACXA,KAAK,GAAGA,KAAK,GAAG,CAAC;MAEjB,IAAIA,KAAK,IAAI,CAAC,EAAE;QACZY,YAAY,CAAC,CAAC;QACdpB,kBAAkB,CAAC,KAAK,CAAC;QACzBsB,aAAa,CAACd,KAAK,CAAC;MACxB;MACA,IAAIA,KAAK,IAAI,CAAC,EAAE;QACZd,UAAU,CAAC,KAAK,CAAC;MACrB;MAEA,IAAIiC,OAAO,GAAG/D,QAAQ,CAAC4C,KAAK,CAAC,CAACoB,YAAY,CAAC,SAAS,CAAC;MACrD,IAAID,OAAO,IAAI,QAAQ,IAAI,CAAC/C,YAAY,EAAE;QACtC;MACJ;MAEAmD,mBAAmB,CAACJ,OAAO,CAAC;MAC5B/B,eAAe,CAACY,KAAK,CAAC;IAC1B;EACJ;AACJ;;AAEA;AACA,SAASuB,mBAAmBA,CAACM,WAAW,EAAE;EACtC,IAAIC,OAAO,GAAG,EAAE;EAChBA,OAAO,GAAG7E,QAAQ,CAACM,aAAa,aAAA8C,MAAA,CAAawB,WAAW,MAAG,CAAC;EAC5D,IAAI,CAACC,OAAO,EAAE;IACV;EACJ;EAEA,IAAIC,aAAa,GAAGD,OAAO,CAACE,SAAS;EACrCC,cAAc,CAACF,aAAa,CAAC;AACjC;AAEA,SAASE,cAAcA,CAACC,MAAM,EAAE;EAC5BP,OAAO,CAACC,GAAG,CAAC,iBAAiB,GAAGM,MAAM,CAAC;EACvC/D,MAAM,CAACgE,QAAQ,CAAC;IACZC,QAAQ,EAAE,QAAQ;IAClBC,IAAI,EAAE,CAAC;IACPC,GAAG,EAAEJ;EACT,CAAC,CAAC;AACN;;AAEA;AACA,IAAIK,yBAAyB,GAAGC,IAAI,CAACC,GAAG,CAAC/E,WAAW,CAACgF,qBAAqB,CAAC,CAAC,CAACC,MAAM,IAAIjF,WAAW,CAACkF,YAAY,GAAG,EAAE,CAAC,GAAGzE,MAAM,CAAC0E,OAAO,CAAC;AACvI,IAAIC,uBAAuB,GAAGN,IAAI,CAACC,GAAG,CAAC9E,gBAAgB,CAAC+E,qBAAqB,CAAC,CAAC,CAACC,MAAM,GAAGjF,WAAW,CAACkF,YAAY,GAAGzE,MAAM,CAAC0E,OAAO,CAAC;AACnI1E,MAAM,CAACjB,gBAAgB,CAAC,QAAQ,EAAE,YAAY;EAC1C,IAAI6F,gBAAgB,GAAGP,IAAI,CAACC,GAAG,CAACxF,QAAQ,CAACa,IAAI,CAAC4E,qBAAqB,CAAC,CAAC,CAACJ,GAAG,CAAC,GAAGnE,MAAM,CAAC6E,WAAW;EAE/F,IAAI7E,MAAM,CAACG,SAAS,EAAE;IAClB;EACJ;EAEA,IAAIyE,gBAAgB,IAAID,uBAAuB,EAAE;IAC7ClF,MAAM,CAACkB,SAAS,CAACY,MAAM,CAAC,oBAAoB,CAAC;EACjD,CAAC,MAAM;IACH9B,MAAM,CAACkB,SAAS,CAACC,GAAG,CAAC,oBAAoB,CAAC;EAC9C;EACA,IAAIgE,gBAAgB,IAAKR,yBAA0B,IAAIpE,MAAM,CAACC,YAAY,EAAE;IACxED,MAAM,CAACC,YAAY,GAAG,KAAK;IAC3BN,IAAI,CAACuD,KAAK,CAACC,SAAS,GAAG,QAAQ;IAC/BE,aAAa,CAAC,IAAI,CAAC;EAEvB;EACA,IAAIuB,gBAAgB,IAAID,uBAAuB,IAAI,CAAC1E,YAAY,EAAE;IAC9DD,MAAM,CAACC,YAAY,GAAG,IAAI;EAC9B;;EAGA;EACA,IAAI6E,IAAI,GAAGhG,QAAQ,CAACM,aAAa,CAAC,sBAAsB,CAAC;EACzD,IAAI2F,OAAO,GAAGjG,QAAQ,CAACM,aAAa,CAAC,sBAAsB,CAAC;EAC5D,IAAI4F,iBAAiB,GAAGlG,QAAQ,CAACM,aAAa,CAAC,sBAAsB,CAAC;EACtE,IAAI6F,IAAI,GAAGnG,QAAQ,CAACM,aAAa,CAAC,oBAAoB,CAAC;EAEvD,IAAI8F,kBAAkB,GAAGb,IAAI,CAACC,GAAG,CAACQ,IAAI,CAACP,qBAAqB,CAAC,CAAC,CAACJ,GAAG,GAAGnE,MAAM,CAAC0E,OAAO,CAAC;EACpF,IAAIS,qBAAqB,GAAGd,IAAI,CAACC,GAAG,CAACS,OAAO,CAACR,qBAAqB,CAAC,CAAC,CAACJ,GAAG,GAAGnE,MAAM,CAAC0E,OAAO,CAAC;EAC1F,IAAIU,2BAA2B,GAAGf,IAAI,CAACC,GAAG,CAACU,iBAAiB,CAACT,qBAAqB,CAAC,CAAC,CAACJ,GAAG,GAAGnE,MAAM,CAAC0E,OAAO,CAAC;EAC1G,IAAIW,eAAe,GAAGhB,IAAI,CAACC,GAAG,CAACW,IAAI,CAACV,qBAAqB,CAAC,CAAC,CAACJ,GAAG,GAAGnE,MAAM,CAAC0E,OAAO,CAAC;EAEjF,IAAIE,gBAAgB,IAAIM,kBAAkB,IAAIN,gBAAgB,IAAIQ,2BAA2B,EAAE;IAC3FE,cAAc,CAAC,CAAC;IAChBC,SAAS,CAAC,CAAC,CAAC,CAAC5E,SAAS,CAACC,GAAG,CAAC,kBAAkB,CAAC;EAClD,CAAC,MAAM,IAAIgE,gBAAgB,IAAIO,qBAAqB,IAAIP,gBAAgB,GAAGS,eAAe,EAAE;IACxFC,cAAc,CAAC,CAAC;IAChBC,SAAS,CAAC,CAAC,CAAC,CAAC5E,SAAS,CAACC,GAAG,CAAC,kBAAkB,CAAC;EAClD,CAAC,MAAM,IAAIgE,gBAAgB,IAAIS,eAAe,EAAE;IAC5CC,cAAc,CAAC,CAAC;IAChBC,SAAS,CAAC,CAAC,CAAC,CAAC5E,SAAS,CAACC,GAAG,CAAC,kBAAkB,CAAC;EAClD;EAEAZ,MAAM,CAACI,UAAU,GAAG,IAAI;EACxBoF,UAAU,CAAC;IAAA,OAAMxF,MAAM,CAACI,UAAU,GAAG,KAAK;EAAA,GAAE,GAAG,CAAC;AACpD,CAAC,CAAC;;AAGF;AACA,SAASW,UAAUA,CAAC0E,MAAM,EAAE;EACxB,IAAIA,MAAM,EAAE;IACRhG,MAAM,CAACkB,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;EAClC,CAAC,MAAM;IACHnB,MAAM,CAACkB,SAAS,CAACY,MAAM,CAAC,QAAQ,CAAC;EACrC;AACJ;;AAEA;AACA,IAAImE,UAAU,GAAG,IAAI;AACrB5G,QAAQ,CAACC,gBAAgB,CAAC,YAAY,EAAE,UAAUyD,CAAC,EAAE;EACjDkD,UAAU,GAAGlD,CAAC;AAClB,CAAC,CAAC;AAEF1D,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAE,UAAUyD,CAAC,EAAE;EAChD,IAAIkD,UAAU,EAAE;IACZ,IAAIC,QAAQ,GAAInD,CAAC,CAACoD,OAAO,CAAC,CAAC,CAAC,CAACC,KAAK,GAAGH,UAAU,CAACE,OAAO,CAAC,CAAC,CAAC,CAACC,KAAM;IACjEH,UAAU,GAAG,IAAI;IACjB,IAAIC,QAAQ,GAAG,CAAC,EAAE;MACdtC,aAAa,CAAC,CAAC;IACnB,CAAC,MAAM;MACH/B,SAAS,CAAC,CAAC;IACf;EACJ;AACJ,CAAC,CAAC;AAEFxC,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAE,UAAUyD,CAAC,EAAE;EAC9CkD,UAAU,GAAG,IAAI;AACrB,CAAC,CAAC;;AAEF;AACA,IAAII,KAAK,GAAG,IAAI;AAChBhH,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAE,UAAUyD,CAAC,EAAE;EAChDsD,KAAK,GAAGtD,CAAC;AACb,CAAC,CAAC;AAEF1D,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAE,UAAUyD,CAAC,EAAE;EAChD,IAAIsD,KAAK,EAAE;IACP,IAAIH,QAAQ,GAAInD,CAAC,CAACuD,OAAO,GAAGD,KAAK,CAACC,OAAQ;IAC1CD,KAAK,GAAG,IAAI;IACZ,IAAIH,QAAQ,GAAG,CAAC,EAAE;MACdtC,aAAa,CAAC,CAAC;IACnB,CAAC,MAAM;MACH/B,SAAS,CAAC,CAAC;IACf;EACJ;AACJ,CAAC,CAAC;AAEFxC,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAE,UAAUyD,CAAC,EAAE;EAC9CsD,KAAK,GAAG,IAAI;AAChB,CAAC,CAAC;;AAEF;AACA,IAAIE,UAAU,GAAG,IAAI;AACrBlH,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAE,UAAU+G,KAAK,EAAE;EAChD,IAAIE,UAAU,KAAK,IAAI,EAAE;IACrBA,UAAU,GAAG,KAAK;IAClB,IAAIF,KAAK,CAACG,MAAM,GAAG,CAAC,EAAE;MAClB3E,SAAS,CAAC,CAAC;IACf,CAAC,MAAM;MACH+B,aAAa,CAAC,CAAC;IACnB;IAEAmC,UAAU,CAAC,YAAY;MACnBQ,UAAU,GAAG,IAAI;IACrB,CAAC,EAAE,IAAI,CAAC;EACZ;AACJ,CAAC,CAAC;;AAGF;AACA,SAAS/E,eAAeA,CAACY,KAAK,EAAE;EAC5B7B,MAAM,CAACE,YAAY,GAAG2B,KAAK;AAC/B;AAEA,SAASO,eAAeA,CAAA,EAAG;EACvB,IAAI8D,KAAK,GAAGlG,MAAM,CAACE,YAAY;EAC/B,IAAIgG,KAAK,EAAE;IACP,OAAOA,KAAK;EAChB,CAAC,MAAM;IACH,OAAO,IAAI;EACf;AACJ;;AAEA;AACA,IAAMC,MAAM,GAAG,IAAIC,MAAM,CAAC,cAAc,EAAE;EACtCC,KAAK,EAAE,IAAI;EACXC,IAAI,EAAE,IAAI;EACVC,YAAY,EAAE,EAAE;EAChBC,QAAQ,EAAE,IAAI;EACdC,cAAc,EAAE,KAAK;EACrBC,8BAA8B,EAAE,KAAK;EACrCC,QAAQ,EAAE;IACNC,KAAK,EAAE,CAAC;IACRC,oBAAoB,EAAE;EAC1B,CAAC;EACDC,WAAW,EAAE;IACT,GAAG,EAAE;MACDC,aAAa,EAAE,IAAI;MACnBR,YAAY,EAAE;IAClB,CAAC;IACD,GAAG,EAAE;MACDQ,aAAa,EAAE;IACnB,CAAC;IACD,IAAI,EAAE;MACFA,aAAa,EAAE;IACnB,CAAC;IACD,IAAI,EAAE;MACFA,aAAa,EAAE;IACnB;EACJ,CAAC;EACDC,EAAE,EAAE;IACAnI,IAAI,WAAAA,KAAA,EAAG;MAAA,IAAAoI,KAAA;MACH,IAAI,CAACN,QAAQ,CAACO,IAAI,CAAC,CAAC;MAEpB,IAAI,CAACC,EAAE,CAACpI,gBAAgB,CAAC,WAAW,EAAE,YAAM;QACxC,IAAI,CAACiB,MAAM,CAACI,UAAU,EAAE;UACpB6G,KAAI,CAACN,QAAQ,CAACS,KAAK,CAAC,CAAC;QACzB;MACJ,CAAC,CAAC;MAEF,IAAI,CAACD,EAAE,CAACpI,gBAAgB,CAAC,YAAY,EAAE,YAAM;QACzCkI,KAAI,CAACN,QAAQ,CAACO,IAAI,CAAC,CAAC;MACxB,CAAC,CAAC;IACN;EACJ;AACJ,CAAC,CAAC"}