{"version":3,"sources":["main.js"],"names":["showHeader","sections","document","querySelectorAll","mainBlock","querySelector","firstVideo","addEventListener","myHandler","e","nextSlide","slide","getSectionState","index","length","section","getAttribute","scrollByElementName","setSectionState","previousSlide","play","elementName","element","scrollToValue","offsetTop","scrollToOffset","offset","style","transform","isShow","header","display","burger","burger_btn","text_click","menuBody","linkClose","body","classList","toggle","contains","add","remove","i","delayWheel","event","deltaY","setTimeout","name","stateObj","window","history","pushState","location","href","state"],"mappings":"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","sourcesContent":["showHeader(false);\r\nconst sections = document.querySelectorAll(\"[section]\");\r\nconst mainBlock = document.querySelector(\"#wrapper\");\r\nconst firstVideo=document.querySelector('#first_video');\r\n\r\nfirstVideo.addEventListener('ended',myHandler,false);\r\nfunction myHandler(e) {\r\n    showHeader(true);\r\n    nextSlide();\r\n}\r\n\r\n\r\nfunction nextSlide() {\r\n    var slide = getSectionState();\r\n    if (slide) {\r\n        let index = slide.index;\r\n        if (index <= sections.length - 2) {\r\n            index = index + 1;\r\n            let section = sections[index].getAttribute('section');\r\n            scrollByElementName(section);\r\n            setSectionState(section, index);\r\n        }\r\n    } else {\r\n        let section = sections[1].getAttribute('section');\r\n        scrollByElementName(section);\r\n        setSectionState(section, 1);\r\n    }\r\n}\r\n\r\nfunction previousSlide() {\r\n    var slide = getSectionState();\r\n    if (slide) {\r\n        let index = slide.index;\r\n        if (index > 0) {\r\n            index = index - 1;\r\n\r\n            if(index==0){\r\n                firstVideo.play();\r\n                showHeader(false);\r\n            }\r\n\r\n            let section = sections[index].getAttribute('section');\r\n            scrollByElementName(section);\r\n            setSectionState(section, index);\r\n        }\r\n    } else {\r\n        let section = sections[1].getAttribute('section');\r\n        scrollByElementName(section);\r\n        setSectionState(section, 1);\r\n    }\r\n}\r\n\r\n//scroll\r\nfunction scrollByElementName(elementName) {\r\n    let element = \"\";\r\n    element = document.querySelector(`[section=${elementName}]`);\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    let scrollToValue = element.offsetTop;\r\n    scrollToOffset(scrollToValue);\r\n}\r\n\r\nfunction scrollToOffset(offset) {\r\n    mainBlock.style.transform = `translate3d(0px, -${offset}px, 0px)`;\r\n    //window.scrollTo({\r\n    //  behavior: 'smooth',\r\n    // left: 0,\r\n    // top: offset\r\n    //});\r\n}\r\n\r\n\r\n//header\r\nfunction showHeader(isShow) {\r\n    let header = document.querySelector(\"#header\");\r\n    if (isShow) {\r\n        header.style.display = \"block\";\r\n    } else {\r\n        header.style.display = \"none\";\r\n    }\r\n}\r\n\r\n//BURGERMENU\r\nconst burger = document.querySelector(\".burger\");\r\nconst burger_btn = document.querySelector(\".burger-btn\");\r\nconst text_click = document.querySelector(\".text_burger_btn\");\r\nconst menuBody = document.querySelector(\".header__menu \");\r\nconst linkClose = document.querySelectorAll(\".link-close\");\r\nif (burger) {\r\n    burger_btn.addEventListener(\"click\", function (e) {\r\n        document.body.classList.toggle(\"body_lock\");\r\n        document.body.classList.toggle(\"active\");\r\n        text_click.classList.toggle(\"text_burger_btn-click\");\r\n        if (burger.classList.contains(\"burger_active\")) {\r\n            burger.classList.add(\"burger_finish\");\r\n            burger.classList.remove(\"burger_active\");\r\n\r\n        } else {\r\n            burger.classList.add(\"burger_active\");\r\n            burger.classList.remove(\"burger_finish\");\r\n        }\r\n        menuBody.classList.toggle(\"menu_active\");\r\n    });\r\n}\r\n\r\nif (linkClose.length) {\r\n    for (var i = 0; i < linkClose.length; ++i) {\r\n        linkClose[i].addEventListener(\"click\", function (e) {\r\n            document.body.classList.remove(\"body_lock\");\r\n            document.body.classList.remove(\"active\");\r\n            text_click.classList.remove(\"text_burger_btn-click\");\r\n            burger.classList.remove(\"burger_active\");\r\n            burger.classList.add(\"burger_finish\");\r\n            menuBody.classList.remove(\"menu_active\");\r\n\r\n        });\r\n    }\r\n}\r\n\r\n//mouse wheel event\r\nvar delayWheel = true;\r\ndocument.addEventListener('wheel', function (event) {\r\n    if (delayWheel===true) {\r\n        delayWheel = false;\r\n        if (event.deltaY > 0) {\r\n            nextSlide();\r\n        } else {\r\n            previousSlide();\r\n        }  \r\n\r\n        setTimeout(function () {\r\n            delayWheel = true;\r\n        }, 1500);\r\n    }\r\n});\r\n\r\n\r\n//state\r\nfunction setSectionState(name, index) {\r\n    let stateObj = { \"section\": name, \"index\": index };\r\n    window.history.pushState(stateObj, \"MainPage\", window.location.href);\r\n}\r\n\r\nfunction getSectionState() {\r\n    var state = window.history.state;\r\n    if (state) {\r\n        return window.history.state;\r\n    } else {\r\n        return null;\r\n    }\r\n}"],"file":"main.js"}