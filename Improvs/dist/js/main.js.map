{"version":3,"sources":["main.js"],"names":["WOW","init","fullpage","dropEffect","navigation","scrollingSpeed","afterLoad","origin","destination","direction","videos","document","querySelectorAll","index","length","video","addEventListener","e","fullpage_api","moveSectionDown","slider","Swiper","slidesPerView","spaceBetween"],"mappings":";;AAAA,IAAIA,GAAJ,GAAUC,IAAV;AAEA,IAAIC,QAAJ,CAAa,WAAb,EAA0B;AACtBC,EAAAA,UAAU,EAAE,IADU;AAEtB;AACA;AACAC,EAAAA,UAAU,EAAE,KAJU;AAIH;AACnBC,EAAAA,cAAc,EAAE,IALM;AAOtB;AACA;AACAC,EAAAA,SAAS,EAAE,mBAAUC,MAAV,EAAkBC,WAAlB,EAA+BC,SAA/B,EAA0C;AACjD,QAAMC,MAAM,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,CAAf;;AACA,SAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGH,MAAM,CAACI,MAAnC,EAA2CD,KAAK,EAAhD,EAAoD;AAChD,UAAME,KAAK,GAAGL,MAAM,CAACG,KAAD,CAApB;AACAE,MAAAA,KAAK,CAACC,gBAAN,CAAuB,OAAvB,EAAgC,UAAUC,CAAV,EAAa;AACzCC,QAAAA,YAAY,CAACC,eAAb;AACH,OAFD;AAGH;AACJ;AAjBqB,CAA1B,E,CAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;;AACA;;;;;;;;;;;;;;;;;;AAmBA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA,IAAMC,MAAM,GAAG,IAAIC,MAAJ,CAAW,kBAAX,EAA+B;AAC1CC,EAAAA,aAAa,EAAE,GAD2B;AAE1CC,EAAAA,YAAY,EAAE;AAF4B,CAA/B,CAAf","sourcesContent":["new WOW().init();\r\n\r\nnew fullpage(\"#fullpage\", {\r\n    dropEffect: true,\r\n    // dropEffectOptions: { speed: 2300, color: '#F82F4D', zIndex: 9999},\r\n    // anchors: [\"section1\", \"section2\", \"section3\"], // якори для навигации\r\n    navigation: false, // показывать навигацию\r\n    scrollingSpeed: 1500,\r\n    \r\n    // sectionSelector: '.section',\r\n    // navigationTooltips: [\"Секция 1\", \"Секция 2\", \"Секция 3\"],\r\n    afterLoad: function (origin, destination, direction) {\r\n        const videos = document.querySelectorAll(\"[video]\");\r\n        for (let index = 0; index < videos.length; index++) {\r\n            const video = videos[index];\r\n            video.addEventListener(\"ended\", function (e) {\r\n                fullpage_api.moveSectionDown();\r\n            });\r\n        }\r\n    },\r\n});\r\n\r\n// document.addEventListener(\"DOMContentLoaded\", function () {\r\n//     init();\r\n// });\r\n// var path = \"./\";\r\n// const sections = document.querySelectorAll(\"[section]\");\r\n// const mainBlock = document.querySelector(\"#main\");\r\n// const turnSounds = document.querySelectorAll(\"[turn-sound ]\");\r\n// // const lastSection = document.querySelector(`[section=\"video3\"]`);\r\n// // const lastVideoSection = document.querySelector(`[section=\"video3\"]`);\r\n// const header = document.querySelector(\"#header\");\r\n// const copyCodeButton = document.querySelector(\"[copyCode]\");\r\n// const body = document.querySelector(\".main_body_section\");\r\n// const mobilePosters = document.querySelectorAll(\"[poster_mobile]\");\r\n// const mobile_buttons = document.querySelectorAll(\"[mobile_button]\");\r\n// const loaderBlock = document.querySelector(\".loader_block\");\r\n\r\n// let userAgentString = navigator.userAgent;\r\n// let isSafari = userAgentString.indexOf(\"Safari\") > -1;\r\n\r\n// function init() {\r\n//     window.isDownScroll = false;\r\n//     window.currentIndex = null;\r\n//     window.body_lock = false;\r\n//     window.isScroling = false;\r\n\r\n//     header.classList.add(\"header_transparent\");\r\n\r\n//     if (isMobile()) {\r\n//         changeVideoForMobile();\r\n//         changeMobilePosters();\r\n//     }\r\n\r\n//     if (isMobile() && isSafari) {\r\n//         mobile_buttons.forEach((mobile_button) => {\r\n//             mobile_button.classList.add(\"safari_button\");\r\n//         });\r\n//     }\r\n\r\n//     if (/phone_video/.test(location.href)) {\r\n//         showLoader(true);\r\n//         showHeader(true);\r\n//         videos[2].play();\r\n//         setSectionState(2);\r\n//     } else if (/desktop_video/.test(location.href)) {\r\n//         showLoader(true);\r\n//         showHeader(true);\r\n//         videos[1].play();\r\n//         setSectionState(1);\r\n//     }\r\n//     /*\r\n//         let firstVideo = videos[0];\r\n\r\n//         firstVideo.addEventListener(\"error\", function (e) {\r\n//             if (isMobile()) {\r\n//                 firstVideo.setAttribute('poster', 'images/main_page/video_img_mobile_1.png')\r\n//             } else {\r\n//                 firstVideo.setAttribute('poster', 'images/main_page/video_img_1.png')\r\n//             }\r\n//             showCopyCodeButton(true);\r\n//         }); */\r\n\r\n//     firstVideo.addEventListener(\r\n//         \"timeupdate\",\r\n//         function () {\r\n//             let firstVideoBlock = document.querySelector('[section=\"video1\"]');\r\n//             if (firstVideo.currentTime > 0) {\r\n//                 showCopyCodeButton(true);\r\n//             }\r\n\r\n//             if (firstVideo.currentTime >= 3.5) {\r\n//                 showCopyCodeButton(false);\r\n//                 addFullVideo(true);\r\n//             }\r\n\r\n//             if (firstVideo.currentTime >= 15.0) {\r\n//                 firstVideoBlock.classList.add(\"video-opacity\");\r\n//                 showHeader(true);\r\n//             }\r\n\r\n//             if (firstVideo.currentTime >= 15.8) {\r\n//                 nextSlide();\r\n//                 firstVideoBlock.classList.remove(\"video-opacity\");\r\n//             }\r\n//         },\r\n//         false\r\n//     );\r\n// }\r\n\r\n// window.addEventListener(\r\n//     \"resize\",\r\n//     function () {\r\n//         if (isMobile()) {\r\n//             changeVideoForMobile();\r\n//         }\r\n//     },\r\n//     true\r\n// );\r\n\r\n// function showLoader(isShow) {\r\n//     if (isShow) {\r\n//         loaderBlock.classList.add(\"show_loader\");\r\n//     } else {\r\n//         setTimeout(function () {\r\n//             loaderBlock.classList.remove(\"show_loader\");\r\n//         }, 1000);\r\n//     }\r\n// }\r\n\r\n// function copyCode() {\r\n//     var jsCode = `<!DOCTYPE html>\r\n//     <head><title></title></head>\r\n//     <body>\r\n//     <svg id=\"mySvg\" width=\"960\" height=\"500\"></svg>\r\n//     <script src=\"http://d3js.org/d3.v7.min.js\"></script>\r\n//     <script src=\"http://d3js.org/topojson.v3.min.js\"></script>\r\n//     <script>\r\n//     var width = 960, height = 500, svg = d3.select(\"svg\");\r\n//     d3.json(\"https://raw.githubusercontent.com/org-scn-design-studio-\" +\r\n//         \"community/sdkcommunitymaps/master/geojson/Europe/Ukraine-regions.json\"\r\n//     ).then(function (data) {\r\n//         var land = topojson.feature(data, data.objects.UKR_adm1),\r\n//             projection = d3.geoAlbers().rotate([-30, 0, 0])\r\n//                 .fitSize([.9 * width, .9 * height], land),\r\n//             path = d3.geoPath().projection(projection);\r\n//         svg.selectAll(\"path\").data(land.features).enter()\r\n//             .append(\"path\").attr(\"d\", path).attr(\"fill\", \"#FFD500')\r\n//             .attr(\"stroke\", \"#005BBB\");\r\n//         svg.append(\"text\").attr(\"x\", (width / 2)).attr(\"y\", height - (20))\r\n//             .attr(\"text-anchor\", \"middle\").style(\"font-size\", \"24px\")\r\n//             .style(\"fill\", \"#005BBB\").text(\"Improvs\");`;\r\n\r\n//     navigator.clipboard.writeText(jsCode);\r\n// }\r\n\r\n// function showCopyCodeButton(isShow) {\r\n//     if (isShow) {\r\n//         copyCodeButton.classList.remove(\"hide\");\r\n//     } else {\r\n//         copyCodeButton.classList.add(\"hide\");\r\n//     }\r\n// }\r\n\r\n// function addFullVideo(isFullVideo) {\r\n//     let firstVideo = document.querySelector('[section=\"video1\"]');\r\n//     if (isFullVideo) {\r\n//         firstVideo.classList.add(\"video_block_full\");\r\n//     } else {\r\n//         firstVideo.classList.remove(\"video_block_full\");\r\n//     }\r\n// }\r\n\r\n// //video\r\n// function changeVideoForMobile() {\r\n//     for (let index = 0; index < videos.length; index++) {\r\n//         const video = videos[index];\r\n//         if (!video.src.includes(\"mobile\")) {\r\n//             video.src = path + `files/main_video/video_${index + 1}_mobile.mp4`;\r\n//         }\r\n//     }\r\n// }\r\n\r\n// function changeMobilePosters() {\r\n//     mobilePosters.forEach((mobilePoster) => {\r\n//         let poster = mobilePoster.getAttribute(\"poster_mobile\");\r\n//         mobilePoster.poster = poster;\r\n//     });\r\n// }\r\n\r\n// turnSounds.forEach((turn) => {\r\n//     turn.addEventListener(\"click\", function () {\r\n//         let video = videos[getSectionState()];\r\n//         if (video) {\r\n//             video.muted = !video.muted;\r\n//             let sound_turn = turn.querySelector(\".sound_turn\");\r\n//             let sound_switch = turn.querySelector(\".sound_switch\");\r\n//             if (video.muted) {\r\n//                 if (sound_turn) {\r\n//                     sound_turn.style.display = \"none\";\r\n//                     sound_switch.style.display = \"block\";\r\n//                 }\r\n//             } else {\r\n//                 if (sound_switch) {\r\n//                     sound_switch.style.display = \"none\";\r\n//                     sound_turn.style.display = \"block\";\r\n//                 }\r\n//             }\r\n//         }\r\n//     });\r\n// });\r\n\r\n// for (let index = 0; index < videos.length; index++) {\r\n//     const video = videos[index];\r\n//     video.addEventListener(\"ended\", function (e) {\r\n//         nextSlide();\r\n//     });\r\n// }\r\n\r\n// function nextSlide() {\r\n//     if (window.body_lock) {\r\n//         return;\r\n//     }\r\n\r\n//     let index = getSectionState();\r\n//     if (index) {\r\n//         if (index <= sections.length - 2) {\r\n//             index = index + 1;\r\n\r\n//             if (index == 2) {\r\n//                 videos[1].pause();\r\n//                 videos[2].currentTime = 0;\r\n//                 videos[2].play();\r\n//             }\r\n\r\n//             if (index == 3) {\r\n//                 videos[2].pause();\r\n//             }\r\n\r\n//             let section = sections[index].getAttribute(\"section\");\r\n\r\n//             if (section === \"work\" && isMobile()) {\r\n//                 body.style.overflowY = \"auto\";\r\n//             }\r\n\r\n//             scrollByElementName(section);\r\n//             setSectionState(index);\r\n//         }\r\n//     } else {\r\n//         showHeader(true);\r\n//         let section = sections[1].getAttribute(\"section\");\r\n//         scrollByElementName(section);\r\n//         videos[0].pause();\r\n//         videos[1].currentTime = 0;\r\n//         videos[1].play();\r\n//         setSectionState(1);\r\n//     }\r\n// }\r\n\r\n// function previousSlide(isDownScroll = false) {\r\n//     if (window.body_lock) {\r\n//         return;\r\n//     }\r\n//     console.log(\"function previousSlide\");\r\n\r\n//     let index = getSectionState();\r\n//     if (index) {\r\n//         if (index > 0) {\r\n//             index = index - 1;\r\n\r\n//             if (index <= 2) {\r\n//                 showCopyCodeButton(false);\r\n//                 addFullVideo(false);\r\n//             }\r\n\r\n//             if (index == 0) {\r\n//                 showHeader(false);\r\n//                 videos[1].pause();\r\n//                 videos[0].currentTime = 0;\r\n//                 videos[0].play();\r\n//             }\r\n//             if (index == 1) {\r\n//                 videos[2].pause();\r\n//                 videos[1].currentTime = 0;\r\n//                 videos[1].play();\r\n//             }\r\n//             if (index == 2) {\r\n//                 videos[2].currentTime = 0;\r\n//                 videos[2].play();\r\n//             }\r\n\r\n//             let section = sections[index].getAttribute(\"section\");\r\n\r\n//             if (section === \"video3\" && isDownScroll) {\r\n//                 function scrollToVideo() {\r\n//                     scrollByElementName(section);\r\n//                     window.removeEventListener(\"scrollend\", scrollToVideo);\r\n//                 }\r\n//                 window.addEventListener(\"scrollend\", scrollToVideo);\r\n//             }\r\n\r\n//             if (section == \"video3\" && !isDownScroll) {\r\n//                 return;\r\n//             }\r\n\r\n//             scrollByElementName(section);\r\n//             setSectionState(index);\r\n//         }\r\n//     }\r\n// }\r\n\r\n//scroll\r\n/* function scrollByElementName(elementName) {\r\n    let element = \"\";\r\n    element = document.querySelector(`[section=${elementName}]`);\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    let scrollToValue = element.offsetTop;\r\n    scrollToOffset(scrollToValue);\r\n}\r\n\r\nfunction scrollToOffset(offset) {\r\n    window.scrollTo({\r\n        behavior: 'smooth',\r\n        left: 0,\r\n        top: offset\r\n    });\r\n} */\r\n\r\n//sroll previous\r\n/* let viewportOffsetLastSection = Math.abs(lastSection.getBoundingClientRect().bottom + (lastSection.offsetHeight) + window.scrollY);\r\nlet viewportOffsetLastVideo = Math.abs(lastVideoSection.getBoundingClientRect().bottom + (lastSection.offsetHeight) + window.scrollY);\r\nlet plusMobileVievPort = 0;\r\nlet minusMobileVievPort = 50;\r\n\r\nwindow.addEventListener(\"scroll\", function () {\r\n    let viewedPageHeight = Math.abs(document.body.getBoundingClientRect().top) + window.innerHeight;\r\n\r\n    if (isMobile()) {\r\n        plusMobileVievPort = 150;\r\n    }\r\n\r\n    if (window.body_lock) {\r\n        return;\r\n    }\r\n\r\n    if (viewedPageHeight >= viewportOffsetLastVideo) {\r\n        header.classList.remove(\"header_transparent\");\r\n    } else {\r\n        header.classList.add(\"header_transparent\");\r\n    }\r\n    if ((viewedPageHeight + plusMobileVievPort) <= (viewportOffsetLastSection - minusMobileVievPort) && window.isDownScroll) {\r\n        window.isDownScroll = false;\r\n        body.style.overflowY = \"hidden\";\r\n        previousSlide(true);\r\n    }\r\n    if (viewedPageHeight + plusMobileVievPort >= viewportOffsetLastVideo && !isDownScroll) {\r\n        body.style.overflowY = \"auto\";\r\n        window.isDownScroll = true;\r\n    }\r\n\r\n    //menu hover\r\n    let main = document.querySelector(\"[section=\\\"video1\\\"]\");\r\n    let website = document.querySelector(\"[section=\\\"video2\\\"]\");\r\n    let mobileApplication = document.querySelector(\"[section=\\\"video3\\\"]\");\r\n    let work = document.querySelector(\"[section=\\\"work\\\"]\");\r\n\r\n    let viewportOffsetMain = Math.abs(main.getBoundingClientRect().top + window.scrollY);\r\n    let viewportOffsetWebsite = Math.abs(website.getBoundingClientRect().top + window.scrollY);\r\n    let viewportOffMobileAppication = Math.abs(mobileApplication.getBoundingClientRect().top + window.scrollY);\r\n    let viewportOffWork = Math.abs(work.getBoundingClientRect().top + window.scrollY);\r\n\r\n    if (viewedPageHeight >= viewportOffsetMain && viewedPageHeight <= viewportOffMobileAppication) {\r\n        cleanHoverMenu();\r\n        menuItems[1].classList.add(\"menu_active_link\");\r\n        showLoader(false);\r\n    } else if (viewedPageHeight >= viewportOffsetWebsite) {\r\n        cleanHoverMenu();\r\n        menuItems[2].classList.add(\"menu_active_link\");\r\n        showLoader(false);\r\n    } else if (viewedPageHeight >= viewportOffWork) {\r\n        cleanHoverMenu();\r\n        menuItems[3].classList.add(\"menu_active_link\");\r\n    }\r\n\r\n    window.isScroling = true;\r\n    setTimeout(() => window.isScroling = false, 500);\r\n}); */\r\n\r\n//header\r\n// function showHeader(isShow) {\r\n//     if (isShow) {\r\n//         header.classList.add(\"active\");\r\n//     } else {\r\n//         header.classList.remove(\"active\");\r\n//     }\r\n// }\r\n\r\n// //touch\r\n// let eventTouch = null;\r\n// document.addEventListener(\"touchstart\", function (e) {\r\n//     eventTouch = e;\r\n// });\r\n\r\n// document.addEventListener(\"touchmove\", function (e) {\r\n//     if (eventTouch) {\r\n//         let position = e.touches[0].pageY - eventTouch.touches[0].pageY;\r\n//         eventTouch = null;\r\n//         if (position > 0) {\r\n//             previousSlide();\r\n//         } else {\r\n//             nextSlide();\r\n//         }\r\n//     }\r\n// });\r\n\r\n// document.addEventListener(\"touched\", function (e) {\r\n//     eventTouch = null;\r\n// });\r\n\r\n// //touch desktop\r\n// var event = null;\r\n// document.addEventListener(\"mousedown\", function (e) {\r\n//     event = e;\r\n// });\r\n\r\n// document.addEventListener(\"mousemove\", function (e) {\r\n//     if (event) {\r\n//         let position = e.screenY - event.screenY;\r\n//         event = null;\r\n//         if (position > 0) {\r\n//             previousSlide();\r\n//         } else {\r\n//             nextSlide();\r\n//         }\r\n//     }\r\n// });\r\n\r\n// document.addEventListener(\"mouseup\", function (e) {\r\n//     event = null;\r\n// });\r\n\r\n// //mouse wheel event\r\n// var delayWheel = true;\r\n// document.addEventListener(\"wheel\", function (event) {\r\n//     if (delayWheel === true) {\r\n//         console.log(\"event wheel\");\r\n//         delayWheel = false;\r\n//         if (event.deltaY > 0) {\r\n//             console.log(\"event wheel nextSlide\");\r\n//             nextSlide();\r\n//         } else {\r\n//             console.log(\"event wheel previousSlide\");\r\n//             previousSlide();\r\n//         }\r\n\r\n//         setTimeout(function () {\r\n//             delayWheel = true;\r\n//         }, 2000);\r\n//     }\r\n// });\r\n\r\n// //state\r\n// function setSectionState(index) {\r\n//     window.currentIndex = index;\r\n// }\r\n\r\n// function getSectionState() {\r\n//     var state = window.currentIndex;\r\n//     if (state) {\r\n//         return state;\r\n//     } else {\r\n//         return null;\r\n//     }\r\n// }\r\n\r\n// //OURWORK\r\nconst slider = new Swiper(\".our_work-slider\", {\r\n    slidesPerView: 1.5,\r\n    spaceBetween: 20,\r\n});"],"file":"main.js"}